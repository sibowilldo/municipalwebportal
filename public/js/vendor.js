(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["/js/vendor"],{

/***/ "./node_modules/simplelightbox/dist/simple-lightbox.js":
/*!*************************************************************!*\
  !*** ./node_modules/simplelightbox/dist/simple-lightbox.js ***!
  \*************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("/*!\n\tBy Andr√© Rinas, www.andrerinas.de\n\tDocumentation, www.simplelightbox.de\n\tAvailable for use under the MIT License\n\t1.17.2\n*/\n;( function( $, window, document, undefined )\n{\n\t'use strict';\n\n$.fn.simpleLightbox = function( options )\n{\n\n\tvar options = $.extend({\n\t\tsourceAttr: 'href',\n\t\toverlay: true,\n\t\tspinner: true,\n\t\tnav: true,\n\t\tnavText: ['&lsaquo;', '&rsaquo;'],\n\t\tcaptions: true,\n\t\tcaptionDelay: 0,\n\t\tcaptionSelector: 'img',\n\t\tcaptionType: 'attr',\n\t\tcaptionsData: 'title',\n\t\tcaptionPosition: 'bottom',\n\t\tcaptionClass: '',\n\t\tclose: true,\n\t\tcloseText: '&times;',\n\t\tswipeClose: true,\n\t\tshowCounter: true,\n\t\tfileExt: 'png|jpg|jpeg|gif|webp',\n\t\tanimationSlide: true,\n\t\tanimationSpeed: 250,\n\t\tpreloading: true,\n\t\tenableKeyboard: true,\n\t\tloop: true,\n\t\trel: false,\n\t\tdocClose: true,\n\t\tswipeTolerance: 50,\n\t\tclassName: 'simple-lightbox',\n\t\twidthRatio: 0.8,\n\t\theightRatio: 0.9,\n\t\tscaleImageToRatio: false,\n\t\tdisableRightClick: false,\n\t\tdisableScroll: true,\n\t\talertError: true,\n\t\talertErrorMessage: 'Image not found, next image will be loaded',\n\t\tadditionalHtml: false,\n\t\thistory: true,\n\t\tthrottleInterval: 0,\n\t\tdoubleTapZoom: 2,\n\t\tmaxZoom: 10,\n\t\thtmlClass: 'has-lightbox'\n\t}, options);\n\n\t// global variables\n\tvar touchDevice\t= ( 'ontouchstart' in window ),\n\t\tpointerEnabled = window.navigator.pointerEnabled || window.navigator.msPointerEnabled,\n\t\ttouched = function( event ){\n\t\t\tif( touchDevice ) return true;\n\t\t\tif( !pointerEnabled || typeof event === 'undefined' || typeof event.pointerType === 'undefined' ) return false;\n\t\t\tif( typeof event.MSPOINTER_TYPE_MOUSE !== 'undefined' ) {\n\t\t\t\tif( event.MSPOINTER_TYPE_MOUSE != event.pointerType ) return true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif( event.pointerType != 'mouse' ) return true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\t\tswipeDiff = 0,\n\t\tswipeYDiff = 0,\n\t\tcurImg = $(),\n\t\ttransPrefix = function(){\n\t\t\tvar s = document.body || document.documentElement;\n\t\t\ts = s.style;\n\t\t\tif( s.WebkitTransition === '' ) return '-webkit-';\n\t\t\tif( s.MozTransition === '' ) return '-moz-';\n\t\t\tif( s.OTransition === '' ) return '-o-';\n\t\t\tif( s.transition === '' ) return '';\n\t\t\treturn false;\n\t\t},\n\t\topened = false,\n\t\tloaded = [],\n\t\tgetRelated = function(rel, jqObj) {\n\t\t\tvar $related = jqObj.filter(function () {\n\t\t\t\treturn ($(this).attr('rel') === rel);\n\t\t\t});\n\t\t\treturn $related;\n\t\t},\n\t\tobjects = (options.rel && options.rel !== false) ? getRelated(options.rel, $(this)) : this,\n\t\ttagname = objects.get()[0].tagName,\n\t\ttransPrefix = transPrefix(),\n\t\tglobalScrollbarwidth = 0,\n\t\tcanTransisions = (transPrefix !== false) ? true : false,\n\t\tsupportsPushState = ('pushState' in history),\n\t\thistoryhasChanged = false,\n\t\thistoryUpdateTimeout,\n\t\twinLoc = window.location,\n\t\tgetHash = function(){\n\t\t\treturn winLoc.hash.substring(1);\n\t\t},\n\t\tinitialHash = getHash(),\n\t\tupdateHash = function(){\n\t\t\tvar hash = getHash(),\n\t\t\tnewHash = 'pid='+(index+1);\n\t\t\tvar newURL = winLoc.href.split('#')[0] + '#' + newHash;\n\n\t\t\tif(supportsPushState){\n\t\t\t\thistory[historyhasChanged ? 'replaceState' : 'pushState']('', document.title, newURL);\n\t\t\t}else {\n\t\t\t\tif(historyhasChanged) {\n\t\t\t\t\twinLoc.replace( newURL );\n\t\t\t\t} else {\n\t\t\t\t\twinLoc.hash = newHash;\n\t\t\t\t}\n\t\t\t}\n\t\t\thistoryhasChanged = true;\n\t\t},\n\t\tresetHash = function() {\n\t\t\tif (supportsPushState) {\n\t\t\t\thistory.pushState('', document.title, winLoc.pathname + winLoc.search );\n\t\t\t} else {\n\t\t\t\twinLoc.hash = '';\n\t\t\t}\n\t\t\tclearTimeout(historyUpdateTimeout);\n\n\t\t},\n\t\tupdateURL = function(){\n\t\t\tif(!historyhasChanged) {\n\t\t\t\tupdateHash(); // first time\n\t\t\t} else {\n\t\t\t\thistoryUpdateTimeout = setTimeout(updateHash, 800);\n\t\t\t}\n\t\t},\n\t\tthrottle = function(func, limit) {\n\t\t\tvar inThrottle;\n\t\t\treturn function() {\n\t\t\t\tvar args = arguments;\n\t\t\t\tvar context = this;\n\t\t\t\tif (!inThrottle) {\n\t\t\t\t\tfunc.apply(context, args);\n\t\t\t\t\tinThrottle = true;\n\t\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t\treturn inThrottle = false;\n\t\t\t\t\t}, limit);\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tprefix = 'simplelb',\n\t\toverlay = $('<div>').addClass('sl-overlay'),\n\t\tcloseBtn = $('<button>').addClass('sl-close').html(options.closeText),\n\t\tspinner = $('<div>').addClass('sl-spinner').html('<div></div>'),\n\t\tnav = $('<div>').addClass('sl-navigation').html('<button class=\"sl-prev\">'+options.navText[0]+'</button><button class=\"sl-next\">'+options.navText[1]+'</button>'),\n\t\tcounter = $('<div>').addClass('sl-counter').html('<span class=\"sl-current\"></span>/<span class=\"sl-total\"></span>'),\n\t\tanimating = false,\n\t\tindex = 0,\n\t\tstartIndex = 0,\n\t\tcaption = $('<div>').addClass('sl-caption '+options.captionClass+' pos-'+options.captionPosition),\n\t\timage = $('<div>').addClass('sl-image'),\n\t\twrapper = $('<div>').addClass('sl-wrapper').addClass(options.className),\n\t\tisValidLink = function( element ){\n\t\t\tif(!options.fileExt) return true;\n\t\t\tvar filEext = /\\.([0-9a-z]+)(?=[?#])|(\\.)(?:[\\w]+)$/gmi;\n\t\t\tvar testExt = $( element ).attr( options.sourceAttr ).match(filEext);\n\t\t\treturn testExt && $( element ).prop( 'tagName' ).toUpperCase() == tagname && ( new RegExp( '\\.(' + options.fileExt + ')$', 'i' ) ).test( testExt );\n\t\t},\n\t\tsetup = function(){\n\t\t\tif(options.close) closeBtn.appendTo(wrapper);\n\t\t\tif(options.showCounter){\n\t\t\t\tif(objects.length > 1){\n\t\t\t\t\tcounter.appendTo(wrapper);\n\t\t\t\t\tcounter.find('.sl-total').text(objects.length);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(options.nav) nav.appendTo(wrapper);\n\t\t\tif(options.spinner) spinner.appendTo(wrapper);\n\t\t},\n\t\topenImage = function(elem){\n\t\t\telem.trigger($.Event('show.simplelightbox'));\n\t\t\tif(options.disableScroll) globalScrollbarwidth = handleScrollbar('hide');\n\t\t\tif(options.htmlClass && options.htmlClass != '') $('html').addClass(options.htmlClass);\n\t\t\twrapper.appendTo('body');\n\t\t\timage.appendTo(wrapper);\n\t\t\tif(options.overlay) overlay.appendTo($('body'));\n\t\t\tanimating = true;\n\t\t\tindex = objects.index(elem);\n\t\t\tcurImg = $( '<img/>' )\n\t\t\t\t.hide()\n\t\t\t\t.attr('src', elem.attr(options.sourceAttr))\n\t\t\t\t.attr('data-scale', 1)\n\t\t\t\t.attr('data-translate-x', 0)\n\t\t\t\t.attr('data-translate-y', 0);\n\t\t\tif(loaded.indexOf(elem.attr(options.sourceAttr)) == -1){\n\t\t\t\tloaded.push(elem.attr(options.sourceAttr));\n\t\t\t}\n\t\t\timage.html('').attr('style','');\n\t\t\tcurImg.appendTo(image);\n\t\t\taddEvents();\n\t\t\toverlay.fadeIn('fast');\n\t\t\t$('.sl-close').fadeIn('fast');\n\t\t\tspinner.show();\n\t\t\tnav.fadeIn('fast');\n\t\t\t$('.sl-wrapper .sl-counter .sl-current').text(index +1);\n\t\t\tcounter.fadeIn('fast');\n\t\t\tadjustImage();\n\t\t\tif(options.preloading) preload();\n\t\t\tsetTimeout( function(){ elem.trigger($.Event('shown.simplelightbox')); } ,options.animationSpeed);\n\t\t},\n\t\tadjustImage = function(dir){\n\t\t\tif(!curImg.length) return;\n\t\t\tvar tmpImage \t = new Image(),\n\t\t\twindowWidth\t = window.innerWidth * options.widthRatio,\n\t\t\twindowHeight = window.innerHeight * options.heightRatio;\n\t\t\ttmpImage.src\t= curImg.attr( 'src' );\n\t\t\tcurImg.data('scale',1);\n\t\t\tcurImg.data('translate-x',0);\n\t\t\tcurImg.data('translate-y',0);\n\t\t\tzoomPanElement(0,0,1);\n\t\t\t$(tmpImage).on('error',function(ev){\n\t\t\t\t//no image was found\n\t\t\t\tobjects.eq(index).trigger($.Event('error.simplelightbox'));\n\t\t\t\tanimating = false;\n\t\t\t\topened = true;\n\t\t\t\tspinner.hide();\n\t\t\t\tvar dirDefinined = (dir == 1 || dir == -1);\n\t\t\t\tif(startIndex === index && dirDefinined){\n\t\t\t\t\tclose();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif(options.alertError){\n\t\t\t\t\talert(options.alertErrorMessage);\n\t\t\t\t}\n\t\t\t\tif(dirDefinined){\n\t\t\t\t\tloadImage(dir);\n\t\t\t\t} else {\n\t\t\t\t\tloadImage(1);\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t});\n\n\n\t\t\ttmpImage.onload = function() {\n\t\t\t\tif (typeof dir !== 'undefined') {\n\t\t\t\t\tobjects.eq(index)\n\t\t\t\t\t\t.trigger($.Event('changed.simplelightbox'))\n\t\t\t\t\t\t.trigger($.Event( (dir===1?'nextDone':'prevDone')+'.simplelightbox'));\n\t\t\t\t}\n\n\t\t\t\t// history\n\t\t\t\tif(options.history){\n\t\t\t\t\tupdateURL();\n\t\t\t\t}\n\n\t\t\t\tif(loaded.indexOf(curImg.attr( 'src' )) == -1){\n\t\t\t\t\tloaded.push(curImg.attr( 'src' ));\n\t\t\t\t}\n\t\t\t\tvar imageWidth\t = tmpImage.width,\n\t\t\t\t\timageHeight\t = tmpImage.height;\n\n\t\t\t\tif( options.scaleImageToRatio || imageWidth > windowWidth || imageHeight > windowHeight ){\n\t\t\t\t\tvar ratio\t = imageWidth / imageHeight > windowWidth / windowHeight ? imageWidth / windowWidth : imageHeight / windowHeight;\n\t\t\t\t\timageWidth\t/= ratio;\n\t\t\t\t\timageHeight\t/= ratio;\n\t\t\t\t}\n\n\t\t\t\t$('.sl-image').css({\n\t\t\t\t\t'top':    ( window.innerHeight - imageHeight ) / 2 + 'px',\n\t\t\t\t\t'left':   ( window.innerWidth - imageWidth - globalScrollbarwidth)/ 2 + 'px',\n\t\t\t\t\t'width':  imageWidth + 'px',\n\t\t\t\t\t'height': imageHeight + 'px'\n\t\t\t\t});\n\t\t\t\tspinner.hide();\n\t\t\t\tcurImg\n\t\t\t\t.fadeIn('fast');\n\t\t\t\topened = true;\n\t\t\t\tvar cSel = (options.captionSelector == 'self') ? objects.eq(index) : objects.eq(index).find(options.captionSelector);\n\t\t\t\tvar captionText;\n\t\t\t\tif(options.captionType == 'data'){\n\t\t\t\t\tcaptionText = cSel.data(options.captionsData);\n\t\t\t\t} else if(options.captionType == 'text'){\n\t\t\t\t\tcaptionText = cSel.html();\n\t\t\t\t} else {\n\t\t\t\t\tcaptionText = cSel.prop(options.captionsData);\n\t\t\t\t}\n\n\t\t\t\tif(!options.loop) {\n\t\t\t\t\tif(index === 0){ $('.sl-prev').hide();}\n\t\t\t\t\tif(index >= objects.length -1) {$('.sl-next').hide();}\n\t\t\t\t\tif(index > 0){ $('.sl-prev').show(); }\n\t\t\t\t\tif(index < objects.length -1){ $('.sl-next').show(); }\n\t\t\t\t}\n\n\t\t\t\tif(objects.length == 1) $('.sl-prev, .sl-next').hide();\n\n\t\t\t\tif(dir == 1 || dir == -1){\n\t\t\t\t\tvar css = { 'opacity': 1.0 };\n\t\t\t\t\tif( options.animationSlide ) {\n\t\t\t\t\t\tif( canTransisions ) {\n\t\t\t\t\t\t\tslide(0, 100 * dir + 'px');\n\t\t\t\t\t\t\tsetTimeout( function(){ slide( options.animationSpeed / 1000, 0 + 'px'); }, 50 );\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcss.left = parseInt( $('.sl-image').css( 'left' ) ) + 100 * dir + 'px';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$('.sl-image').animate( css, options.animationSpeed, function(){\n\t\t\t\t\t\tanimating = false;\n\t\t\t\t\t\tsetCaption(captionText, imageWidth);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tanimating = false;\n\t\t\t\t\tsetCaption(captionText, imageWidth);\n\t\t\t\t}\n\t\t\t\tif(options.additionalHtml && $('.sl-additional-html').length === 0){\n\t\t\t\t\t$('<div>').html(options.additionalHtml).addClass('sl-additional-html').appendTo($('.sl-image'));\n\t\t\t\t}\n\t\t\t};\n\t\t},\n\t\tsetCaption = function(captiontext, imageWidth){\n\t\t\tif(captiontext !== '' && typeof captiontext !== \"undefined\" && options.captions){\n\t\t\t\tcaption.html(captiontext).css({'width': imageWidth + 'px'}).hide().appendTo($('.sl-image')).delay(options.captionDelay).fadeIn('fast');\n\t\t\t}\n\t\t},\n\t\tslide = function(speed, pos){\n\t\t\tvar styles = {};\n\t\t\t\tstyles[transPrefix + 'transform'] = 'translateX(' + pos + ')';\n\t\t\t\tstyles[transPrefix + 'transition'] = transPrefix + 'transform ' + speed + 's linear';\n\t\t\t\t$('.sl-image').css(styles);\n\t\t},\n\t\tzoomPanElement = function(targetOffsetX, targetOffsetY, targetScale) {\n\t\t\tvar styles = {};\n\t\t\tstyles[transPrefix + 'transform'] = 'translate(' + targetOffsetX + ',' + targetOffsetY+ ') scale('+targetScale+')';\n\t\t\tcurImg.css(styles);\n\t\t},\n\t\tminMax = function(value, min, max) {\n\t\t\treturn (value < min) ? min : (value > max) ? max : value;\n\t\t},\n\t\tsetZoomData = function(initialScale,targetOffsetX,targetOffsetY) {\n\t\t\tcurImg.data('scale',initialScale);\n\t\t\tcurImg.data('translate-x',targetOffsetX);\n\t\t\tcurImg.data('translate-y',targetOffsetY);\n\t\t},\n\t\taddEvents = function(){\n\t\t\t// resize/responsive\n\t\t\t$( window ).on( 'resize.'+prefix, adjustImage );\n\n\t\t\t// close lightbox on close btn\n\t\t\t$( document ).on('click.'+prefix+ ' touchstart.'+prefix, '.sl-close', function(e){\n\t\t\t\te.preventDefault();\n\t\t\t\tif(opened){ close();}\n\t\t\t});\n\n\t\t\tif(options.history){\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\t$(window).on('hashchange.'+prefix,function(){\n\t\t\t\t\t\tif(opened){\n\t\t\t\t\t\t\tif(getHash() === initialHash) {\n\t\t\t\t\t\t\t\tclose();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}, 40);\n\t\t\t}\n\n\t\t\t// nav-buttons\n\t\t\tnav.on('click.'+prefix, 'button', throttle(function(e){\n\t\t\t\te.preventDefault();\n\t\t\t\tswipeDiff = 0;\n\t\t\t\tloadImage( $(this).hasClass('sl-next') ? 1 : -1 );\n\t\t\t}, options.throttleInterval));\n\n\t\t\t// touch helpers\n\t\t\tvar swipeStart\t = 0,\n\t\t\t\tswipeEnd\t = 0,\n\t\t\t\tswipeYStart = 0,\n\t\t\t\tswipeYEnd = 0,\n\t\t\t\tzoomed = false,\n\t\t\t\tmousedown = false,\n\t\t\t\timageLeft = 0,\n\t\t\t\tcontainerHeight,\n\t\t\t\tcontainerWidth,\n\t\t\t\tcontainerOffsetX,\n\t\t\t\tcontainerOffsetY,\n\t\t\t\timgHeight,\n\t\t\t\timgWidth,\n\t\t\t\tcapture = false,\n\t\t\t\tinitialOffsetX,\n\t\t\t\tinitialOffsetY,\n\t\t\t\tinitialPointerOffsetX,\n\t\t\t\tinitialPointerOffsetY,\n\t\t\t\tinitialPointerOffsetX2,\n\t\t\t\tinitialPointerOffsetY2,\n\t\t\t\tinitialScale = minMax(1, 1, options.maxZoom),\n\t\t\t\tinitialPinchDistance,\n\t\t\t\tpointerOffsetX,\n\t\t\t\tpointerOffsetY,\n\t\t\t\tpointerOffsetX2,\n\t\t\t\tpointerOffsetY2,\n\t\t\t\ttargetOffsetX,\n\t\t\t\ttargetOffsetY,\n\t\t\t\ttargetScale,\n\t\t\t\tpinchOffsetX,\n\t\t\t\tpinchOffsetY,\n\t\t\t\tlimitOffsetX,\n\t\t\t\tlimitOffsetY,\n\t\t\t\tscaleDifference,\n\t\t\t\ttargetPinchDistance,\n\t\t\t\ttouchCount,\n\t\t\t\tdoubleTapped = false,\n\t\t\t\ttouchmoveCount = 0;\n\n\t\t\timage\n\t\t\t.on( 'touchstart.'+prefix+' mousedown.'+prefix, function(e)\n\t\t\t{\n\t\t\t\tif (e.target.tagName === 'A' && e.type == 'touchstart') {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\te = e.originalEvent;\n\t\t\t\tif(e.type == 'mousedown') {\n\t\t\t\t\tinitialPointerOffsetX = e.clientX;\n\t\t\t\t\tinitialPointerOffsetY = e.clientY;\n\t\t\t\t\tcontainerHeight = image.height();\n\t\t\t\t\tcontainerWidth = image.width();\n\t\t\t\t\timgHeight = curImg.height();\n\t\t\t\t\timgWidth = curImg.width();\n\t\t\t\t\tcontainerOffsetX = image.position().left;\n\t\t\t\t\tcontainerOffsetY = image.position().top;\n\n\t\t\t\t\tinitialOffsetX = parseFloat(curImg.data('translate-x'));\n\t\t\t\t\tinitialOffsetY = parseFloat(curImg.data('translate-y'));\n\n\t\t\t\t\tcapture = true;\n\t\t\t\t} else {\n\t\t\t\t\ttouchCount = e.touches.length;\n\t\t\t\t\tinitialPointerOffsetX = e.touches[0].clientX;\n\t\t\t\t\tinitialPointerOffsetY = e.touches[0].clientY;\n\t\t\t\t\tcontainerHeight = image.height();\n\t\t\t\t\tcontainerWidth = image.width();\n\t\t\t\t\timgHeight = curImg.height();\n\t\t\t\t\timgWidth = curImg.width();\n\t\t\t\t\tcontainerOffsetX = image.position().left;\n\t\t\t\t\tcontainerOffsetY = image.position().top;\n\n\t\t\t\t\tif (touchCount === 1) /* Single touch */ {\n\t\t\t\t\t\tif(!doubleTapped) {\n\t\t\t\t\t\t\tdoubleTapped = true;\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\tdoubleTapped = false;\n\t\t\t\t\t\t\t}, 300);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tcurImg.addClass('sl-transition');\n\t\t\t\t\t\t\tif(!zoomed) {\n\t\t\t\t\t\t\t\tinitialScale = options.doubleTapZoom;\n\t\t\t\t\t\t\t\tsetZoomData(0,0, initialScale);\n\t\t\t\t\t\t\t\tzoomPanElement(0 + \"px\", 0 + \"px\", initialScale);\n\t\t\t\t\t\t\t\t$('.sl-caption').fadeOut(200);\n\t\t\t\t\t\t\t\tzoomed = true;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tinitialScale = 1;\n\t\t\t\t\t\t\t\tsetZoomData(0,0,initialScale);\n\t\t\t\t\t\t\t\tzoomPanElement(0 + \"px\", 0 + \"px\", initialScale);\n\t\t\t\t\t\t\t\tzoomed = false;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tsetTimeout(function(){\n\t\t\t\t\t\t\t\tcurImg.removeClass('sl-transition');\n\t\t\t\t\t\t\t}, 200);\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tinitialOffsetX = parseFloat(curImg.data('translate-x'));\n\t\t\t\t\t\tinitialOffsetY = parseFloat(curImg.data('translate-y'));\n\t\t\t\t\t}\n\t\t\t\t\telse if (touchCount === 2) /* Pinch */ {\n\t\t\t\t\t\tinitialPointerOffsetX2 = e.touches[1].clientX;\n\t\t\t\t\t\tinitialPointerOffsetY2 = e.touches[1].clientY;\n\t\t\t\t\t\tinitialOffsetX = parseFloat(curImg.data('translate-x'));\n\t\t\t\t\t\tinitialOffsetY = parseFloat(curImg.data('translate-y'));\n\t\t\t\t\t\tpinchOffsetX = (initialPointerOffsetX + initialPointerOffsetX2) / 2;\n\t\t\t\t\t\tpinchOffsetY = (initialPointerOffsetY + initialPointerOffsetY2) / 2;\n\t\t\t\t\t\tinitialPinchDistance = Math.sqrt(((initialPointerOffsetX - initialPointerOffsetX2) * (initialPointerOffsetX - initialPointerOffsetX2)) + ((initialPointerOffsetY - initialPointerOffsetY2) * (initialPointerOffsetY - initialPointerOffsetY2)));\n\t\t\t\t\t}\n\t\t\t\t\tcapture = true;\n\t\t\t\t}\n\n\t\t\t\tif(mousedown) return true;\n\t\t\t\tif( canTransisions ) imageLeft = parseInt( image.css( 'left' ) );\n\t\t\t\tmousedown = true;\n\t\t\t\tswipeDiff = 0;\n\t\t\t\tswipeYDiff = 0;\n\t\t\t\tswipeStart = e.pageX || e.touches[ 0 ].pageX;\n\t\t\t\tswipeYStart = e.pageY || e.touches[ 0 ].pageY;\n\t\t\t\treturn false;\n\t\t\t})\n\t\t\t.on( 'touchmove.'+prefix+' mousemove.'+prefix+' MSPointerMove', function(e)\n\t\t\t{\n\t\t\t\tif(!mousedown) return true;\n\t\t\t\te.preventDefault();\n\t\t\t\te = e.originalEvent;\n\t\t\t\t/* Initialize helpers */\n\t\t\t\tif(e.type == 'touchmove') {\n\t\t\t\t\tif(capture === false) return false;\n\t\t\t\t\tpointerOffsetX = e.touches[0].clientX;\n\t\t\t\t\tpointerOffsetY = e.touches[0].clientY;\n\t\t\t\t\ttouchCount = e.touches.length;\n\t\t\t\t\ttouchmoveCount++;\n\n\t\t\t\t\tif (touchCount > 1) /* Pinch */ {\n\t\t\t\t\t\tpointerOffsetX2 = e.touches[1].clientX;\n\t\t\t\t\t\tpointerOffsetY2 = e.touches[1].clientY;\n\t\t\t\t\t\ttargetPinchDistance = Math.sqrt(((pointerOffsetX - pointerOffsetX2) * (pointerOffsetX - pointerOffsetX2)) + ((pointerOffsetY - pointerOffsetY2) * (pointerOffsetY - pointerOffsetY2)));\n\t\t\t\t\t\tif (initialPinchDistance === null) {\n\t\t\t\t\t\t\tinitialPinchDistance = targetPinchDistance;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.abs(initialPinchDistance - targetPinchDistance) >= 1) {\n\t\t\t\t\t\t\t/* Initialize helpers */\n\t\t\t\t\t\t\ttargetScale = minMax(targetPinchDistance / initialPinchDistance * initialScale, 1, options.maxZoom);\n\t\t\t\t\t\t\tlimitOffsetX = ((imgWidth * targetScale) - containerWidth) / 2;\n\t\t\t\t\t\t\tlimitOffsetY = ((imgHeight * targetScale) - containerHeight) / 2;\n\t\t\t\t\t\t\tscaleDifference = targetScale - initialScale;\n\t\t\t\t\t\t\ttargetOffsetX = (imgWidth * targetScale) <= containerWidth ? 0: minMax(initialOffsetX - ((((((pinchOffsetX - containerOffsetX) - (containerWidth / 2)) - initialOffsetX) / (targetScale - scaleDifference))) * scaleDifference), limitOffsetX * (-1), limitOffsetX);\n\t\t\t\t\t\t\ttargetOffsetY = (imgHeight * targetScale) <= containerHeight ? 0 : minMax(initialOffsetY - ((((((pinchOffsetY - containerOffsetY) - (containerHeight / 2)) - initialOffsetY) / (targetScale - scaleDifference))) * scaleDifference), limitOffsetY * (-1), limitOffsetY);\n\n\t\t\t\t\t\t\tzoomPanElement(targetOffsetX + \"px\", targetOffsetY + \"px\", targetScale);\n\n\t\t\t\t\t\t\tif (targetScale > 1) {\n\t\t\t\t\t\t\t\tzoomed = true;\n\t\t\t\t\t\t\t\t$('.sl-caption').fadeOut(200);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tinitialPinchDistance = targetPinchDistance;\n\t\t\t\t\t\t\tinitialScale = targetScale;\n\t\t\t\t\t\t\tinitialOffsetX = targetOffsetX;\n\t\t\t\t\t\t\tinitialOffsetY = targetOffsetY;\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttargetScale = initialScale;\n\t\t\t\t\t\tlimitOffsetX = ((imgWidth * targetScale) - containerWidth) / 2;\n\t\t\t\t\t\tlimitOffsetY = ((imgHeight * targetScale) - containerHeight) / 2;\n\t\t\t\t\t\ttargetOffsetX = (imgWidth * targetScale) <= containerWidth ? 0 : minMax(pointerOffsetX - (initialPointerOffsetX - initialOffsetX), limitOffsetX * (-1), limitOffsetX);\n\t\t\t\t\t\ttargetOffsetY = (imgHeight * targetScale) <= containerHeight ? 0 : minMax(pointerOffsetY - (initialPointerOffsetY - initialOffsetY), limitOffsetY * (-1), limitOffsetY);\n\n\t\t\t\t\t\tif (Math.abs(targetOffsetX) === Math.abs(limitOffsetX)) {\n\t\t\t\t\t\t\tinitialOffsetX = targetOffsetX;\n\t\t\t\t\t\t\tinitialPointerOffsetX = pointerOffsetX;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (Math.abs(targetOffsetY) === Math.abs(limitOffsetY)) {\n\t\t\t\t\t\t\tinitialOffsetY = targetOffsetY;\n\t\t\t\t\t\t\tinitialPointerOffsetY = pointerOffsetY;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tsetZoomData(initialScale,targetOffsetX,targetOffsetY);\n\t\t\t\t\t\tzoomPanElement(targetOffsetX + \"px\", targetOffsetY + \"px\", targetScale);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t/* Mouse Move implementation */\n\t\t\t\tif(e.type == 'mousemove' && mousedown){\n\t\t\t\t\tif(e.type == 'touchmove') return true;\n\t\t\t\t\tif(capture === false) return false;\n\t\t\t\t\tpointerOffsetX = e.clientX;\n\t\t\t\t\tpointerOffsetY = e.clientY;\n\t\t\t\t\ttargetScale = initialScale;\n\t\t\t\t\tlimitOffsetX = ((imgWidth * targetScale) - containerWidth) / 2;\n\t\t\t\t\tlimitOffsetY = ((imgHeight * targetScale) - containerHeight) / 2;\n\t\t\t\t\ttargetOffsetX = (imgWidth * targetScale) <= containerWidth ? 0 : minMax(pointerOffsetX - (initialPointerOffsetX - initialOffsetX), limitOffsetX * (-1), limitOffsetX);\n\t\t\t\t\ttargetOffsetY = (imgHeight * targetScale) <= containerHeight ? 0 : minMax(pointerOffsetY - (initialPointerOffsetY - initialOffsetY), limitOffsetY * (-1), limitOffsetY);\n\n\t\t\t\t\tif (Math.abs(targetOffsetX) === Math.abs(limitOffsetX)) {\n\t\t\t\t\t\tinitialOffsetX = targetOffsetX;\n\t\t\t\t\t\tinitialPointerOffsetX = pointerOffsetX;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Math.abs(targetOffsetY) === Math.abs(limitOffsetY)) {\n\t\t\t\t\t\tinitialOffsetY = targetOffsetY;\n\t\t\t\t\t\tinitialPointerOffsetY = pointerOffsetY;\n\t\t\t\t\t}\n\n\t\t\t\t\tsetZoomData(initialScale,targetOffsetX,targetOffsetY);\n\t\t\t\t\tzoomPanElement(targetOffsetX + \"px\", targetOffsetY + \"px\", targetScale);\n\t\t\t\t}\n\t\t\t\tif(!zoomed) {\n\t\t\t\t\tswipeEnd = e.pageX || e.touches[ 0 ].pageX;\n\t\t\t\t\tswipeYEnd = e.pageY || e.touches[ 0 ].pageY;\n\t\t\t\t\tswipeDiff = swipeStart - swipeEnd;\n\t\t\t\t\tswipeYDiff = swipeYStart - swipeYEnd;\n\t\t\t\t\tif( options.animationSlide ) {\n\t\t\t\t\t\tif( canTransisions ) slide( 0, -swipeDiff + 'px' );\n\t\t\t\t\t\telse image.css( 'left', imageLeft - swipeDiff + 'px' );\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t.on( 'touchend.'+prefix+' mouseup.'+prefix+' touchcancel.'+prefix+' mouseleave.'+prefix+' pointerup pointercancel MSPointerUp MSPointerCancel',function(e)\n\t\t\t{\n\t\t\t\te = e.originalEvent;\n\t\t\t\tif(touchDevice && e.type =='touchend') {\n\t\t\t\t\ttouchCount = e.touches.length;\n\t\t\t\t\tif (touchCount === 0) /* No touch */ {\n\t\t\t\t\t\t/* Set attributes */\n\t\t\t\t\t\tsetZoomData(initialScale,targetOffsetX,targetOffsetY);\n\t\t\t\t\t\tif(initialScale == 1) {\n\t\t\t\t\t\t\tzoomed = false;\n\t\t\t\t\t\t\t$('.sl-caption').fadeIn(200);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tinitialPinchDistance = null;\n\t\t\t\t\t\tcapture = false;\n\t\t\t\t\t} else if (touchCount === 1) /* Single touch */ {\n\t\t\t\t\t\tinitialPointerOffsetX = e.touches[0].clientX;\n\t\t\t\t\t\tinitialPointerOffsetY = e.touches[0].clientY;\n\t\t\t\t\t} else if (touchCount > 1) /* Pinch */ {\n\t\t\t\t\t\tinitialPinchDistance = null;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif(mousedown){\n\t\t\t\t\tmousedown = false;\n\t\t\t\t\tvar possibleDir = true;\n\t\t\t\t\tif(!options.loop) {\n\t\t\t\t\t\tif(index === 0 && swipeDiff < 0){ possibleDir = false; }\n\t\t\t\t\t\tif(index >= objects.length -1 && swipeDiff > 0) { possibleDir = false; }\n\t\t\t\t\t}\n\t\t\t\t\tif( Math.abs( swipeDiff ) > options.swipeTolerance && possibleDir ) {\n\t\t\t\t\t\tloadImage( swipeDiff > 0 ? 1 : -1 );\n\t\t\t\t\t}\n\t\t\t\t\telse if( options.animationSlide )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( canTransisions ) slide( options.animationSpeed / 1000, 0 + 'px' );\n\t\t\t\t\t\telse image.animate({ 'left': imageLeft + 'px' }, options.animationSpeed / 2 );\n\t\t\t\t\t}\n\n\t\t\t\t\tif( options.swipeClose && Math.abs(swipeYDiff) > 50 && Math.abs( swipeDiff ) < options.swipeTolerance) {\n\t\t\t\t\t\tclose();\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t})\n\t\t\t/** Detect Double click on image*/\n\t\t\t.on( 'dblclick', function(e)\n\t\t\t{\n\t\t\t\tinitialPointerOffsetX = e.clientX;\n\t\t\t\tinitialPointerOffsetY = e.clientY;\n\t\t\t\tcontainerHeight = image.height();\n\t\t\t\tcontainerWidth = image.width();\n\t\t\t\timgHeight = curImg.height();\n\t\t\t\timgWidth = curImg.width();\n\t\t\t\tcontainerOffsetX = image.position().left;\n\t\t\t\tcontainerOffsetY = image.position().top;\n\n\t\t\t\tcurImg.addClass('sl-transition');\n\t\t\t\tif(!zoomed) {\n\t\t\t\t\tinitialScale = options.doubleTapZoom;\n\t\t\t\t\tsetZoomData(0,0, initialScale);\n\t\t\t\t\tzoomPanElement(0 + \"px\", 0 + \"px\", initialScale);\n\t\t\t\t\t$('.sl-caption').fadeOut(200);\n\t\t\t\t\tzoomed = true;\n\t\t\t\t} else {\n\t\t\t\t\tinitialScale = 1;\n\t\t\t\t\tsetZoomData(0,0,initialScale);\n\t\t\t\t\tzoomPanElement(0 + \"px\", 0 + \"px\", initialScale);\n\t\t\t\t\tzoomed = false;\n\t\t\t\t\t$('.sl-caption').fadeIn(200);\n\t\t\t\t}\n\n\t\t\t\tsetTimeout(function(){\n\t\t\t\t\tcurImg.removeClass('sl-transition');\n\t\t\t\t}, 200);\n\t\t\t\tcapture = true;\n\t\t\t\treturn false;\n\t\t\t});\n\t\t},\n\t\tremoveEvents = function(){\n\t\t\tnav.off('click', 'button');\n\t\t\t$( document ).off('click.'+prefix, '.sl-close');\n\t\t\t$( window ).off( 'resize.'+prefix);\n\t\t\t$( window ).off( 'hashchange.'+prefix);\n\t\t},\n\t\tpreload = function(){\n\t\t\tvar next = (index+1 < 0) ? objects.length -1: (index+1 >= objects.length -1) ? 0 : index+1,\n\t\t\t\tprev = (index-1 < 0) ? objects.length -1: (index-1 >= objects.length -1) ? 0 : index-1;\n\t\t\t$( '<img />' ).attr( 'src', objects.eq(next).attr( options.sourceAttr ) ).on('load', function(){\n\t\t\t\tif(loaded.indexOf($(this).attr('src')) == -1){\n\t\t\t\t\tloaded.push($(this).attr('src'));\n\t\t\t\t}\n\t\t\t\tobjects.eq(index).trigger($.Event('nextImageLoaded.simplelightbox'));\n\t\t\t});\n\t\t\t$( '<img />' ).attr( 'src', objects.eq(prev).attr( options.sourceAttr ) ).on('load', function(){\n\t\t\t\tif(loaded.indexOf($(this).attr('src')) == -1){\n\t\t\t\t\tloaded.push($(this).attr('src'));\n\t\t\t\t}\n\t\t\t\tobjects.eq(index).trigger($.Event('prevImageLoaded.simplelightbox'));\n\t\t\t});\n\n\t\t},\n\t\tloadImage = function(dir){\n\t\t\tobjects.eq(index)\n\t\t\t.trigger($.Event('change.simplelightbox'))\n\t\t\t.trigger($.Event( (dir===1?'next':'prev')+'.simplelightbox'));\n\n\t\tvar newIndex = index + dir;\n\t\t\tif(animating || (newIndex < 0 || newIndex >= objects.length) && options.loop === false ) return;\n\t\t\tindex = (newIndex < 0) ? objects.length -1: (newIndex > objects.length -1) ? 0 : newIndex;\n\t\t\t$('.sl-wrapper .sl-counter .sl-current').text(index +1);\n\t\t\t\tvar css = { 'opacity': 0 };\n\t\t\tif( options.animationSlide ) {\n\t\t\t\tif( canTransisions ) slide(options.animationSpeed / 1000, ( -100 * dir ) - swipeDiff + 'px');\n\t\t\t\telse css.left = parseInt( $('.sl-image').css( 'left' ) ) + -100 * dir + 'px';\n\t\t\t}\n\n\t\t\t$('.sl-image').animate( css, options.animationSpeed, function(){\n\t\t\t\tsetTimeout( function(){\n\t\t\t\t\t// fadeout old image\n\t\t\t\t\tvar elem = objects.eq(index);\n\t\t\t\t\tcurImg\n\t\t\t\t\t.attr('src', elem.attr(options.sourceAttr));\n\n\t\t\t\t\tif(loaded.indexOf(elem.attr(options.sourceAttr)) == -1){\n\t\t\t\t\t\tspinner.show();\n\t\t\t\t\t}\n\t\t\t\t\t$('.sl-caption').remove();\n\t\t\t\t\tadjustImage(dir);\n\t\t\t\t\tif(options.preloading) preload();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t},\n\t\tclose = function(){\n\t\t\tif(animating) return;\n\t\t\tvar elem = objects.eq(index),\n\t\t\ttriggered = false;\n\n\t\t\telem.trigger($.Event('close.simplelightbox'));\n\t\t\tif(options.history){\n\t\t\t\tresetHash();\n\t\t\t}\n\t\t\t$('.sl-image img, .sl-overlay, .sl-close, .sl-navigation, .sl-image .sl-caption, .sl-counter').fadeOut('fast', function(){\n\t\t\t\tif(options.disableScroll) handleScrollbar('show');\n\t\t\t\tif(options.htmlClass && options.htmlClass != '') $('html').removeClass(options.htmlClass);\n\t\t\t\t$('.sl-wrapper, .sl-overlay').remove();\n\t\t\t\tremoveEvents();\n\t\t\t\tif(!triggered) elem.trigger($.Event('closed.simplelightbox'));\n\t\t\t\ttriggered = true;\n\t\t\t});\n\t\t\tcurImg = $();\n\t\t\topened = false;\n\t\t\tanimating = false;\n\t\t},\n\t\thandleScrollbar = function(type){\n\t\t\tvar scrollbarWidth = 0;\n\t\t\tif(type == 'hide'){\n\t\t\t\tvar fullWindowWidth = window.innerWidth;\n\t\t\t\tif (!fullWindowWidth) {\n\t\t\t\t\tvar documentElementRect = document.documentElement.getBoundingClientRect();\n\t\t\t\t\tfullWindowWidth = documentElementRect.right - Math.abs(documentElementRect.left);\n\t\t\t\t}\n\t\t\t\tif(document.body.clientWidth < fullWindowWidth){\n\t\t\t\t\tvar scrollDiv = document.createElement('div'),\n\t\t\t\t\tpadding = parseInt($('body').css('padding-right'),10);\n\t\t\t\t\tscrollDiv.className = 'sl-scrollbar-measure';\n\t\t\t\t\t$('body').append(scrollDiv);\n\t\t\t\t\tscrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n\t\t\t\t\t$(document.body)[0].removeChild(scrollDiv);\n\t\t\t\t\t$('body').data('padding',padding);\n\t\t\t\t\tif(scrollbarWidth > 0){\n\t\t\t\t\t\t$('body').addClass('hidden-scroll').css({'padding-right':padding+scrollbarWidth});\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t$('body').removeClass('hidden-scroll').css({'padding-right':$('body').data('padding')});\n\t\t\t}\n\t\t\treturn scrollbarWidth;\n\t\t};\n\n\t// events\n\tsetup();\n\n\t// open lightbox\n\tobjects.on( 'click.'+prefix, function( e ){\n\t\tif(isValidLink(this)){\n\t\t\te.preventDefault();\n\t\t\tif(animating) return false;\n\t\t\tvar elem = $(this);\n\t\t\tstartIndex = objects.index(elem);\n\t\t\topenImage(elem);\n\t\t}\n\t});\n\n\t// close on click on doc\n\t$( document ).on('click.'+prefix+ ' touchstart.'+prefix, function(e){\n\t\tif(opened){\n\t\t\tif((options.docClose && $(e.target).closest('.sl-image').length === 0 && $(e.target).closest('.sl-navigation').length === 0)){\n\t\t\t\tclose();\n\t\t\t}\n\t\t}\n\t});\n\n\t// disable rightclick\n\tif(options.disableRightClick){\n\t\t$( document ).on('contextmenu', '.sl-image img', function(e){\n\t\t\treturn false;\n\t\t});\n\t}\n\n\n\t// keyboard-control\n\tif( options.enableKeyboard ){\n\t\t$( document ).on( 'keyup.'+prefix, throttle(function( e ){\n\t\t\tswipeDiff = 0;\n\t\t\t// keyboard control only if lightbox is open\n\t\t\tvar key = e.keyCode;\n\t\t\tif(animating && key == 27) {\n\t\t\t\tcurImg.attr('src', '');\n\t\t\t\tanimating = false;\n\t\t\t\tclose();\n\t\t\t}\n\n\t\t\tif(opened){\n\t\t\t\te.preventDefault();\n\t\t\t\tif( key == 27 ) {\n\t\t\t\t\tclose();\n\t\t\t\t}\n\t\t\t\tif( key == 37 || e.keyCode == 39 ) {\n\t\t\t\t\tloadImage( e.keyCode == 39 ? 1 : -1 );\n\t\t\t\t}\n\t\t\t}\n\t\t}, options.throttleInterval));\n\t}\n\n\t// Public methods\n\tthis.open = function(elem){\n\t\telem = elem || $(this[0]);\n\t\tstartIndex = objects.index(elem);\n\t\topenImage(elem);\n\t};\n\n\tthis.next = function(){\n\t\tloadImage( 1 );\n\t};\n\n\tthis.prev = function(){\n\t\tloadImage( -1 );\n\t};\n\n\tthis.close = function(){\n\t\tclose();\n\t};\n\n\tthis.destroy = function(){\n\t\t$( document ).off('click.'+prefix).off('keyup.'+prefix);\n\t\tclose();\n\t\t$('.sl-overlay, .sl-wrapper').remove();\n\t\tthis.off('click');\n\t};\n\n\tthis.refresh = function(){\n\t\tthis.destroy();\n\t\t$(this).simpleLightbox(options);\n\t};\n\n\treturn this;\n\n};\n})( jQuery, window, document );\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2ltcGxlbGlnaHRib3gvZGlzdC9zaW1wbGUtbGlnaHRib3guanM/Yzg5MSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsWUFBWTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLElBQUk7QUFDSjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLCtDQUErQyxFQUFFO0FBQzNFLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQSxxQkFBcUI7QUFDckIscUNBQXFDO0FBQ3JDLG1CQUFtQixzQkFBc0I7QUFDekMsbUNBQW1DLHNCQUFzQjtBQUN6RDs7QUFFQTs7QUFFQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsaURBQWlELEVBQUU7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ04sS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxtQ0FBbUMsMkJBQTJCO0FBQzlEO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUixPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxxQkFBcUI7QUFDNUQsdURBQXVELHFCQUFxQjtBQUM1RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyQkFBMkI7QUFDckQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUosR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLHVDQUF1QztBQUN0RjtBQUNBO0FBQ0EsSUFBSTtBQUNKLGdEQUFnRCwwQ0FBMEM7QUFDMUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTs7QUFFRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUU7O0FBRUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQSxDQUFDIiwiZmlsZSI6Ii4vbm9kZV9tb2R1bGVzL3NpbXBsZWxpZ2h0Ym94L2Rpc3Qvc2ltcGxlLWxpZ2h0Ym94LmpzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG5cdEJ5IEFuZHLDqSBSaW5hcywgd3d3LmFuZHJlcmluYXMuZGVcblx0RG9jdW1lbnRhdGlvbiwgd3d3LnNpbXBsZWxpZ2h0Ym94LmRlXG5cdEF2YWlsYWJsZSBmb3IgdXNlIHVuZGVyIHRoZSBNSVQgTGljZW5zZVxuXHQxLjE3LjJcbiovXG47KCBmdW5jdGlvbiggJCwgd2luZG93LCBkb2N1bWVudCwgdW5kZWZpbmVkIClcbntcblx0J3VzZSBzdHJpY3QnO1xuXG4kLmZuLnNpbXBsZUxpZ2h0Ym94ID0gZnVuY3Rpb24oIG9wdGlvbnMgKVxue1xuXG5cdHZhciBvcHRpb25zID0gJC5leHRlbmQoe1xuXHRcdHNvdXJjZUF0dHI6ICdocmVmJyxcblx0XHRvdmVybGF5OiB0cnVlLFxuXHRcdHNwaW5uZXI6IHRydWUsXG5cdFx0bmF2OiB0cnVlLFxuXHRcdG5hdlRleHQ6IFsnJmxzYXF1bzsnLCAnJnJzYXF1bzsnXSxcblx0XHRjYXB0aW9uczogdHJ1ZSxcblx0XHRjYXB0aW9uRGVsYXk6IDAsXG5cdFx0Y2FwdGlvblNlbGVjdG9yOiAnaW1nJyxcblx0XHRjYXB0aW9uVHlwZTogJ2F0dHInLFxuXHRcdGNhcHRpb25zRGF0YTogJ3RpdGxlJyxcblx0XHRjYXB0aW9uUG9zaXRpb246ICdib3R0b20nLFxuXHRcdGNhcHRpb25DbGFzczogJycsXG5cdFx0Y2xvc2U6IHRydWUsXG5cdFx0Y2xvc2VUZXh0OiAnJnRpbWVzOycsXG5cdFx0c3dpcGVDbG9zZTogdHJ1ZSxcblx0XHRzaG93Q291bnRlcjogdHJ1ZSxcblx0XHRmaWxlRXh0OiAncG5nfGpwZ3xqcGVnfGdpZnx3ZWJwJyxcblx0XHRhbmltYXRpb25TbGlkZTogdHJ1ZSxcblx0XHRhbmltYXRpb25TcGVlZDogMjUwLFxuXHRcdHByZWxvYWRpbmc6IHRydWUsXG5cdFx0ZW5hYmxlS2V5Ym9hcmQ6IHRydWUsXG5cdFx0bG9vcDogdHJ1ZSxcblx0XHRyZWw6IGZhbHNlLFxuXHRcdGRvY0Nsb3NlOiB0cnVlLFxuXHRcdHN3aXBlVG9sZXJhbmNlOiA1MCxcblx0XHRjbGFzc05hbWU6ICdzaW1wbGUtbGlnaHRib3gnLFxuXHRcdHdpZHRoUmF0aW86IDAuOCxcblx0XHRoZWlnaHRSYXRpbzogMC45LFxuXHRcdHNjYWxlSW1hZ2VUb1JhdGlvOiBmYWxzZSxcblx0XHRkaXNhYmxlUmlnaHRDbGljazogZmFsc2UsXG5cdFx0ZGlzYWJsZVNjcm9sbDogdHJ1ZSxcblx0XHRhbGVydEVycm9yOiB0cnVlLFxuXHRcdGFsZXJ0RXJyb3JNZXNzYWdlOiAnSW1hZ2Ugbm90IGZvdW5kLCBuZXh0IGltYWdlIHdpbGwgYmUgbG9hZGVkJyxcblx0XHRhZGRpdGlvbmFsSHRtbDogZmFsc2UsXG5cdFx0aGlzdG9yeTogdHJ1ZSxcblx0XHR0aHJvdHRsZUludGVydmFsOiAwLFxuXHRcdGRvdWJsZVRhcFpvb206IDIsXG5cdFx0bWF4Wm9vbTogMTAsXG5cdFx0aHRtbENsYXNzOiAnaGFzLWxpZ2h0Ym94J1xuXHR9LCBvcHRpb25zKTtcblxuXHQvLyBnbG9iYWwgdmFyaWFibGVzXG5cdHZhciB0b3VjaERldmljZVx0PSAoICdvbnRvdWNoc3RhcnQnIGluIHdpbmRvdyApLFxuXHRcdHBvaW50ZXJFbmFibGVkID0gd2luZG93Lm5hdmlnYXRvci5wb2ludGVyRW5hYmxlZCB8fCB3aW5kb3cubmF2aWdhdG9yLm1zUG9pbnRlckVuYWJsZWQsXG5cdFx0dG91Y2hlZCA9IGZ1bmN0aW9uKCBldmVudCApe1xuXHRcdFx0aWYoIHRvdWNoRGV2aWNlICkgcmV0dXJuIHRydWU7XG5cdFx0XHRpZiggIXBvaW50ZXJFbmFibGVkIHx8IHR5cGVvZiBldmVudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIGV2ZW50LnBvaW50ZXJUeXBlID09PSAndW5kZWZpbmVkJyApIHJldHVybiBmYWxzZTtcblx0XHRcdGlmKCB0eXBlb2YgZXZlbnQuTVNQT0lOVEVSX1RZUEVfTU9VU0UgIT09ICd1bmRlZmluZWQnICkge1xuXHRcdFx0XHRpZiggZXZlbnQuTVNQT0lOVEVSX1RZUEVfTU9VU0UgIT0gZXZlbnQucG9pbnRlclR5cGUgKSByZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiggZXZlbnQucG9pbnRlclR5cGUgIT0gJ21vdXNlJyApIHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH0sXG5cdFx0c3dpcGVEaWZmID0gMCxcblx0XHRzd2lwZVlEaWZmID0gMCxcblx0XHRjdXJJbWcgPSAkKCksXG5cdFx0dHJhbnNQcmVmaXggPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHMgPSBkb2N1bWVudC5ib2R5IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcblx0XHRcdHMgPSBzLnN0eWxlO1xuXHRcdFx0aWYoIHMuV2Via2l0VHJhbnNpdGlvbiA9PT0gJycgKSByZXR1cm4gJy13ZWJraXQtJztcblx0XHRcdGlmKCBzLk1velRyYW5zaXRpb24gPT09ICcnICkgcmV0dXJuICctbW96LSc7XG5cdFx0XHRpZiggcy5PVHJhbnNpdGlvbiA9PT0gJycgKSByZXR1cm4gJy1vLSc7XG5cdFx0XHRpZiggcy50cmFuc2l0aW9uID09PSAnJyApIHJldHVybiAnJztcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9LFxuXHRcdG9wZW5lZCA9IGZhbHNlLFxuXHRcdGxvYWRlZCA9IFtdLFxuXHRcdGdldFJlbGF0ZWQgPSBmdW5jdGlvbihyZWwsIGpxT2JqKSB7XG5cdFx0XHR2YXIgJHJlbGF0ZWQgPSBqcU9iai5maWx0ZXIoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRyZXR1cm4gKCQodGhpcykuYXR0cigncmVsJykgPT09IHJlbCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiAkcmVsYXRlZDtcblx0XHR9LFxuXHRcdG9iamVjdHMgPSAob3B0aW9ucy5yZWwgJiYgb3B0aW9ucy5yZWwgIT09IGZhbHNlKSA/IGdldFJlbGF0ZWQob3B0aW9ucy5yZWwsICQodGhpcykpIDogdGhpcyxcblx0XHR0YWduYW1lID0gb2JqZWN0cy5nZXQoKVswXS50YWdOYW1lLFxuXHRcdHRyYW5zUHJlZml4ID0gdHJhbnNQcmVmaXgoKSxcblx0XHRnbG9iYWxTY3JvbGxiYXJ3aWR0aCA9IDAsXG5cdFx0Y2FuVHJhbnNpc2lvbnMgPSAodHJhbnNQcmVmaXggIT09IGZhbHNlKSA/IHRydWUgOiBmYWxzZSxcblx0XHRzdXBwb3J0c1B1c2hTdGF0ZSA9ICgncHVzaFN0YXRlJyBpbiBoaXN0b3J5KSxcblx0XHRoaXN0b3J5aGFzQ2hhbmdlZCA9IGZhbHNlLFxuXHRcdGhpc3RvcnlVcGRhdGVUaW1lb3V0LFxuXHRcdHdpbkxvYyA9IHdpbmRvdy5sb2NhdGlvbixcblx0XHRnZXRIYXNoID0gZnVuY3Rpb24oKXtcblx0XHRcdHJldHVybiB3aW5Mb2MuaGFzaC5zdWJzdHJpbmcoMSk7XG5cdFx0fSxcblx0XHRpbml0aWFsSGFzaCA9IGdldEhhc2goKSxcblx0XHR1cGRhdGVIYXNoID0gZnVuY3Rpb24oKXtcblx0XHRcdHZhciBoYXNoID0gZ2V0SGFzaCgpLFxuXHRcdFx0bmV3SGFzaCA9ICdwaWQ9JysoaW5kZXgrMSk7XG5cdFx0XHR2YXIgbmV3VVJMID0gd2luTG9jLmhyZWYuc3BsaXQoJyMnKVswXSArICcjJyArIG5ld0hhc2g7XG5cblx0XHRcdGlmKHN1cHBvcnRzUHVzaFN0YXRlKXtcblx0XHRcdFx0aGlzdG9yeVtoaXN0b3J5aGFzQ2hhbmdlZCA/ICdyZXBsYWNlU3RhdGUnIDogJ3B1c2hTdGF0ZSddKCcnLCBkb2N1bWVudC50aXRsZSwgbmV3VVJMKTtcblx0XHRcdH1lbHNlIHtcblx0XHRcdFx0aWYoaGlzdG9yeWhhc0NoYW5nZWQpIHtcblx0XHRcdFx0XHR3aW5Mb2MucmVwbGFjZSggbmV3VVJMICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d2luTG9jLmhhc2ggPSBuZXdIYXNoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRoaXN0b3J5aGFzQ2hhbmdlZCA9IHRydWU7XG5cdFx0fSxcblx0XHRyZXNldEhhc2ggPSBmdW5jdGlvbigpIHtcblx0XHRcdGlmIChzdXBwb3J0c1B1c2hTdGF0ZSkge1xuXHRcdFx0XHRoaXN0b3J5LnB1c2hTdGF0ZSgnJywgZG9jdW1lbnQudGl0bGUsIHdpbkxvYy5wYXRobmFtZSArIHdpbkxvYy5zZWFyY2ggKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdpbkxvYy5oYXNoID0gJyc7XG5cdFx0XHR9XG5cdFx0XHRjbGVhclRpbWVvdXQoaGlzdG9yeVVwZGF0ZVRpbWVvdXQpO1xuXG5cdFx0fSxcblx0XHR1cGRhdGVVUkwgPSBmdW5jdGlvbigpe1xuXHRcdFx0aWYoIWhpc3RvcnloYXNDaGFuZ2VkKSB7XG5cdFx0XHRcdHVwZGF0ZUhhc2goKTsgLy8gZmlyc3QgdGltZVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aGlzdG9yeVVwZGF0ZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHVwZGF0ZUhhc2gsIDgwMCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHR0aHJvdHRsZSA9IGZ1bmN0aW9uKGZ1bmMsIGxpbWl0KSB7XG5cdFx0XHR2YXIgaW5UaHJvdHRsZTtcblx0XHRcdHJldHVybiBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIGFyZ3MgPSBhcmd1bWVudHM7XG5cdFx0XHRcdHZhciBjb250ZXh0ID0gdGhpcztcblx0XHRcdFx0aWYgKCFpblRocm90dGxlKSB7XG5cdFx0XHRcdFx0ZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcblx0XHRcdFx0XHRpblRocm90dGxlID0gdHJ1ZTtcblx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIGluVGhyb3R0bGUgPSBmYWxzZTtcblx0XHRcdFx0XHR9LCBsaW1pdCk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSxcblx0XHRwcmVmaXggPSAnc2ltcGxlbGInLFxuXHRcdG92ZXJsYXkgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzbC1vdmVybGF5JyksXG5cdFx0Y2xvc2VCdG4gPSAkKCc8YnV0dG9uPicpLmFkZENsYXNzKCdzbC1jbG9zZScpLmh0bWwob3B0aW9ucy5jbG9zZVRleHQpLFxuXHRcdHNwaW5uZXIgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzbC1zcGlubmVyJykuaHRtbCgnPGRpdj48L2Rpdj4nKSxcblx0XHRuYXYgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzbC1uYXZpZ2F0aW9uJykuaHRtbCgnPGJ1dHRvbiBjbGFzcz1cInNsLXByZXZcIj4nK29wdGlvbnMubmF2VGV4dFswXSsnPC9idXR0b24+PGJ1dHRvbiBjbGFzcz1cInNsLW5leHRcIj4nK29wdGlvbnMubmF2VGV4dFsxXSsnPC9idXR0b24+JyksXG5cdFx0Y291bnRlciA9ICQoJzxkaXY+JykuYWRkQ2xhc3MoJ3NsLWNvdW50ZXInKS5odG1sKCc8c3BhbiBjbGFzcz1cInNsLWN1cnJlbnRcIj48L3NwYW4+LzxzcGFuIGNsYXNzPVwic2wtdG90YWxcIj48L3NwYW4+JyksXG5cdFx0YW5pbWF0aW5nID0gZmFsc2UsXG5cdFx0aW5kZXggPSAwLFxuXHRcdHN0YXJ0SW5kZXggPSAwLFxuXHRcdGNhcHRpb24gPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzbC1jYXB0aW9uICcrb3B0aW9ucy5jYXB0aW9uQ2xhc3MrJyBwb3MtJytvcHRpb25zLmNhcHRpb25Qb3NpdGlvbiksXG5cdFx0aW1hZ2UgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzbC1pbWFnZScpLFxuXHRcdHdyYXBwZXIgPSAkKCc8ZGl2PicpLmFkZENsYXNzKCdzbC13cmFwcGVyJykuYWRkQ2xhc3Mob3B0aW9ucy5jbGFzc05hbWUpLFxuXHRcdGlzVmFsaWRMaW5rID0gZnVuY3Rpb24oIGVsZW1lbnQgKXtcblx0XHRcdGlmKCFvcHRpb25zLmZpbGVFeHQpIHJldHVybiB0cnVlO1xuXHRcdFx0dmFyIGZpbEVleHQgPSAvXFwuKFswLTlhLXpdKykoPz1bPyNdKXwoXFwuKSg/OltcXHddKykkL2dtaTtcblx0XHRcdHZhciB0ZXN0RXh0ID0gJCggZWxlbWVudCApLmF0dHIoIG9wdGlvbnMuc291cmNlQXR0ciApLm1hdGNoKGZpbEVleHQpO1xuXHRcdFx0cmV0dXJuIHRlc3RFeHQgJiYgJCggZWxlbWVudCApLnByb3AoICd0YWdOYW1lJyApLnRvVXBwZXJDYXNlKCkgPT0gdGFnbmFtZSAmJiAoIG5ldyBSZWdFeHAoICdcXC4oJyArIG9wdGlvbnMuZmlsZUV4dCArICcpJCcsICdpJyApICkudGVzdCggdGVzdEV4dCApO1xuXHRcdH0sXG5cdFx0c2V0dXAgPSBmdW5jdGlvbigpe1xuXHRcdFx0aWYob3B0aW9ucy5jbG9zZSkgY2xvc2VCdG4uYXBwZW5kVG8od3JhcHBlcik7XG5cdFx0XHRpZihvcHRpb25zLnNob3dDb3VudGVyKXtcblx0XHRcdFx0aWYob2JqZWN0cy5sZW5ndGggPiAxKXtcblx0XHRcdFx0XHRjb3VudGVyLmFwcGVuZFRvKHdyYXBwZXIpO1xuXHRcdFx0XHRcdGNvdW50ZXIuZmluZCgnLnNsLXRvdGFsJykudGV4dChvYmplY3RzLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmKG9wdGlvbnMubmF2KSBuYXYuYXBwZW5kVG8od3JhcHBlcik7XG5cdFx0XHRpZihvcHRpb25zLnNwaW5uZXIpIHNwaW5uZXIuYXBwZW5kVG8od3JhcHBlcik7XG5cdFx0fSxcblx0XHRvcGVuSW1hZ2UgPSBmdW5jdGlvbihlbGVtKXtcblx0XHRcdGVsZW0udHJpZ2dlcigkLkV2ZW50KCdzaG93LnNpbXBsZWxpZ2h0Ym94JykpO1xuXHRcdFx0aWYob3B0aW9ucy5kaXNhYmxlU2Nyb2xsKSBnbG9iYWxTY3JvbGxiYXJ3aWR0aCA9IGhhbmRsZVNjcm9sbGJhcignaGlkZScpO1xuXHRcdFx0aWYob3B0aW9ucy5odG1sQ2xhc3MgJiYgb3B0aW9ucy5odG1sQ2xhc3MgIT0gJycpICQoJ2h0bWwnKS5hZGRDbGFzcyhvcHRpb25zLmh0bWxDbGFzcyk7XG5cdFx0XHR3cmFwcGVyLmFwcGVuZFRvKCdib2R5Jyk7XG5cdFx0XHRpbWFnZS5hcHBlbmRUbyh3cmFwcGVyKTtcblx0XHRcdGlmKG9wdGlvbnMub3ZlcmxheSkgb3ZlcmxheS5hcHBlbmRUbygkKCdib2R5JykpO1xuXHRcdFx0YW5pbWF0aW5nID0gdHJ1ZTtcblx0XHRcdGluZGV4ID0gb2JqZWN0cy5pbmRleChlbGVtKTtcblx0XHRcdGN1ckltZyA9ICQoICc8aW1nLz4nIClcblx0XHRcdFx0LmhpZGUoKVxuXHRcdFx0XHQuYXR0cignc3JjJywgZWxlbS5hdHRyKG9wdGlvbnMuc291cmNlQXR0cikpXG5cdFx0XHRcdC5hdHRyKCdkYXRhLXNjYWxlJywgMSlcblx0XHRcdFx0LmF0dHIoJ2RhdGEtdHJhbnNsYXRlLXgnLCAwKVxuXHRcdFx0XHQuYXR0cignZGF0YS10cmFuc2xhdGUteScsIDApO1xuXHRcdFx0aWYobG9hZGVkLmluZGV4T2YoZWxlbS5hdHRyKG9wdGlvbnMuc291cmNlQXR0cikpID09IC0xKXtcblx0XHRcdFx0bG9hZGVkLnB1c2goZWxlbS5hdHRyKG9wdGlvbnMuc291cmNlQXR0cikpO1xuXHRcdFx0fVxuXHRcdFx0aW1hZ2UuaHRtbCgnJykuYXR0cignc3R5bGUnLCcnKTtcblx0XHRcdGN1ckltZy5hcHBlbmRUbyhpbWFnZSk7XG5cdFx0XHRhZGRFdmVudHMoKTtcblx0XHRcdG92ZXJsYXkuZmFkZUluKCdmYXN0Jyk7XG5cdFx0XHQkKCcuc2wtY2xvc2UnKS5mYWRlSW4oJ2Zhc3QnKTtcblx0XHRcdHNwaW5uZXIuc2hvdygpO1xuXHRcdFx0bmF2LmZhZGVJbignZmFzdCcpO1xuXHRcdFx0JCgnLnNsLXdyYXBwZXIgLnNsLWNvdW50ZXIgLnNsLWN1cnJlbnQnKS50ZXh0KGluZGV4ICsxKTtcblx0XHRcdGNvdW50ZXIuZmFkZUluKCdmYXN0Jyk7XG5cdFx0XHRhZGp1c3RJbWFnZSgpO1xuXHRcdFx0aWYob3B0aW9ucy5wcmVsb2FkaW5nKSBwcmVsb2FkKCk7XG5cdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpeyBlbGVtLnRyaWdnZXIoJC5FdmVudCgnc2hvd24uc2ltcGxlbGlnaHRib3gnKSk7IH0gLG9wdGlvbnMuYW5pbWF0aW9uU3BlZWQpO1xuXHRcdH0sXG5cdFx0YWRqdXN0SW1hZ2UgPSBmdW5jdGlvbihkaXIpe1xuXHRcdFx0aWYoIWN1ckltZy5sZW5ndGgpIHJldHVybjtcblx0XHRcdHZhciB0bXBJbWFnZSBcdCA9IG5ldyBJbWFnZSgpLFxuXHRcdFx0d2luZG93V2lkdGhcdCA9IHdpbmRvdy5pbm5lcldpZHRoICogb3B0aW9ucy53aWR0aFJhdGlvLFxuXHRcdFx0d2luZG93SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0ICogb3B0aW9ucy5oZWlnaHRSYXRpbztcblx0XHRcdHRtcEltYWdlLnNyY1x0PSBjdXJJbWcuYXR0ciggJ3NyYycgKTtcblx0XHRcdGN1ckltZy5kYXRhKCdzY2FsZScsMSk7XG5cdFx0XHRjdXJJbWcuZGF0YSgndHJhbnNsYXRlLXgnLDApO1xuXHRcdFx0Y3VySW1nLmRhdGEoJ3RyYW5zbGF0ZS15JywwKTtcblx0XHRcdHpvb21QYW5FbGVtZW50KDAsMCwxKTtcblx0XHRcdCQodG1wSW1hZ2UpLm9uKCdlcnJvcicsZnVuY3Rpb24oZXYpe1xuXHRcdFx0XHQvL25vIGltYWdlIHdhcyBmb3VuZFxuXHRcdFx0XHRvYmplY3RzLmVxKGluZGV4KS50cmlnZ2VyKCQuRXZlbnQoJ2Vycm9yLnNpbXBsZWxpZ2h0Ym94JykpO1xuXHRcdFx0XHRhbmltYXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0b3BlbmVkID0gdHJ1ZTtcblx0XHRcdFx0c3Bpbm5lci5oaWRlKCk7XG5cdFx0XHRcdHZhciBkaXJEZWZpbmluZWQgPSAoZGlyID09IDEgfHwgZGlyID09IC0xKTtcblx0XHRcdFx0aWYoc3RhcnRJbmRleCA9PT0gaW5kZXggJiYgZGlyRGVmaW5pbmVkKXtcblx0XHRcdFx0XHRjbG9zZSgpO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihvcHRpb25zLmFsZXJ0RXJyb3Ipe1xuXHRcdFx0XHRcdGFsZXJ0KG9wdGlvbnMuYWxlcnRFcnJvck1lc3NhZ2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKGRpckRlZmluaW5lZCl7XG5cdFx0XHRcdFx0bG9hZEltYWdlKGRpcik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9hZEltYWdlKDEpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0pO1xuXG5cblx0XHRcdHRtcEltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRpZiAodHlwZW9mIGRpciAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0XHRvYmplY3RzLmVxKGluZGV4KVxuXHRcdFx0XHRcdFx0LnRyaWdnZXIoJC5FdmVudCgnY2hhbmdlZC5zaW1wbGVsaWdodGJveCcpKVxuXHRcdFx0XHRcdFx0LnRyaWdnZXIoJC5FdmVudCggKGRpcj09PTE/J25leHREb25lJzoncHJldkRvbmUnKSsnLnNpbXBsZWxpZ2h0Ym94JykpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gaGlzdG9yeVxuXHRcdFx0XHRpZihvcHRpb25zLmhpc3Rvcnkpe1xuXHRcdFx0XHRcdHVwZGF0ZVVSTCgpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYobG9hZGVkLmluZGV4T2YoY3VySW1nLmF0dHIoICdzcmMnICkpID09IC0xKXtcblx0XHRcdFx0XHRsb2FkZWQucHVzaChjdXJJbWcuYXR0ciggJ3NyYycgKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dmFyIGltYWdlV2lkdGhcdCA9IHRtcEltYWdlLndpZHRoLFxuXHRcdFx0XHRcdGltYWdlSGVpZ2h0XHQgPSB0bXBJbWFnZS5oZWlnaHQ7XG5cblx0XHRcdFx0aWYoIG9wdGlvbnMuc2NhbGVJbWFnZVRvUmF0aW8gfHwgaW1hZ2VXaWR0aCA+IHdpbmRvd1dpZHRoIHx8IGltYWdlSGVpZ2h0ID4gd2luZG93SGVpZ2h0ICl7XG5cdFx0XHRcdFx0dmFyIHJhdGlvXHQgPSBpbWFnZVdpZHRoIC8gaW1hZ2VIZWlnaHQgPiB3aW5kb3dXaWR0aCAvIHdpbmRvd0hlaWdodCA/IGltYWdlV2lkdGggLyB3aW5kb3dXaWR0aCA6IGltYWdlSGVpZ2h0IC8gd2luZG93SGVpZ2h0O1xuXHRcdFx0XHRcdGltYWdlV2lkdGhcdC89IHJhdGlvO1xuXHRcdFx0XHRcdGltYWdlSGVpZ2h0XHQvPSByYXRpbztcblx0XHRcdFx0fVxuXG5cdFx0XHRcdCQoJy5zbC1pbWFnZScpLmNzcyh7XG5cdFx0XHRcdFx0J3RvcCc6ICAgICggd2luZG93LmlubmVySGVpZ2h0IC0gaW1hZ2VIZWlnaHQgKSAvIDIgKyAncHgnLFxuXHRcdFx0XHRcdCdsZWZ0JzogICAoIHdpbmRvdy5pbm5lcldpZHRoIC0gaW1hZ2VXaWR0aCAtIGdsb2JhbFNjcm9sbGJhcndpZHRoKS8gMiArICdweCcsXG5cdFx0XHRcdFx0J3dpZHRoJzogIGltYWdlV2lkdGggKyAncHgnLFxuXHRcdFx0XHRcdCdoZWlnaHQnOiBpbWFnZUhlaWdodCArICdweCdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdHNwaW5uZXIuaGlkZSgpO1xuXHRcdFx0XHRjdXJJbWdcblx0XHRcdFx0LmZhZGVJbignZmFzdCcpO1xuXHRcdFx0XHRvcGVuZWQgPSB0cnVlO1xuXHRcdFx0XHR2YXIgY1NlbCA9IChvcHRpb25zLmNhcHRpb25TZWxlY3RvciA9PSAnc2VsZicpID8gb2JqZWN0cy5lcShpbmRleCkgOiBvYmplY3RzLmVxKGluZGV4KS5maW5kKG9wdGlvbnMuY2FwdGlvblNlbGVjdG9yKTtcblx0XHRcdFx0dmFyIGNhcHRpb25UZXh0O1xuXHRcdFx0XHRpZihvcHRpb25zLmNhcHRpb25UeXBlID09ICdkYXRhJyl7XG5cdFx0XHRcdFx0Y2FwdGlvblRleHQgPSBjU2VsLmRhdGEob3B0aW9ucy5jYXB0aW9uc0RhdGEpO1xuXHRcdFx0XHR9IGVsc2UgaWYob3B0aW9ucy5jYXB0aW9uVHlwZSA9PSAndGV4dCcpe1xuXHRcdFx0XHRcdGNhcHRpb25UZXh0ID0gY1NlbC5odG1sKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y2FwdGlvblRleHQgPSBjU2VsLnByb3Aob3B0aW9ucy5jYXB0aW9uc0RhdGEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYoIW9wdGlvbnMubG9vcCkge1xuXHRcdFx0XHRcdGlmKGluZGV4ID09PSAwKXsgJCgnLnNsLXByZXYnKS5oaWRlKCk7fVxuXHRcdFx0XHRcdGlmKGluZGV4ID49IG9iamVjdHMubGVuZ3RoIC0xKSB7JCgnLnNsLW5leHQnKS5oaWRlKCk7fVxuXHRcdFx0XHRcdGlmKGluZGV4ID4gMCl7ICQoJy5zbC1wcmV2Jykuc2hvdygpOyB9XG5cdFx0XHRcdFx0aWYoaW5kZXggPCBvYmplY3RzLmxlbmd0aCAtMSl7ICQoJy5zbC1uZXh0Jykuc2hvdygpOyB9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihvYmplY3RzLmxlbmd0aCA9PSAxKSAkKCcuc2wtcHJldiwgLnNsLW5leHQnKS5oaWRlKCk7XG5cblx0XHRcdFx0aWYoZGlyID09IDEgfHwgZGlyID09IC0xKXtcblx0XHRcdFx0XHR2YXIgY3NzID0geyAnb3BhY2l0eSc6IDEuMCB9O1xuXHRcdFx0XHRcdGlmKCBvcHRpb25zLmFuaW1hdGlvblNsaWRlICkge1xuXHRcdFx0XHRcdFx0aWYoIGNhblRyYW5zaXNpb25zICkge1xuXHRcdFx0XHRcdFx0XHRzbGlkZSgwLCAxMDAgKiBkaXIgKyAncHgnKTtcblx0XHRcdFx0XHRcdFx0c2V0VGltZW91dCggZnVuY3Rpb24oKXsgc2xpZGUoIG9wdGlvbnMuYW5pbWF0aW9uU3BlZWQgLyAxMDAwLCAwICsgJ3B4Jyk7IH0sIDUwICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y3NzLmxlZnQgPSBwYXJzZUludCggJCgnLnNsLWltYWdlJykuY3NzKCAnbGVmdCcgKSApICsgMTAwICogZGlyICsgJ3B4Jztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHQkKCcuc2wtaW1hZ2UnKS5hbmltYXRlKCBjc3MsIG9wdGlvbnMuYW5pbWF0aW9uU3BlZWQsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRhbmltYXRpbmcgPSBmYWxzZTtcblx0XHRcdFx0XHRcdHNldENhcHRpb24oY2FwdGlvblRleHQsIGltYWdlV2lkdGgpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGFuaW1hdGluZyA9IGZhbHNlO1xuXHRcdFx0XHRcdHNldENhcHRpb24oY2FwdGlvblRleHQsIGltYWdlV2lkdGgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKG9wdGlvbnMuYWRkaXRpb25hbEh0bWwgJiYgJCgnLnNsLWFkZGl0aW9uYWwtaHRtbCcpLmxlbmd0aCA9PT0gMCl7XG5cdFx0XHRcdFx0JCgnPGRpdj4nKS5odG1sKG9wdGlvbnMuYWRkaXRpb25hbEh0bWwpLmFkZENsYXNzKCdzbC1hZGRpdGlvbmFsLWh0bWwnKS5hcHBlbmRUbygkKCcuc2wtaW1hZ2UnKSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0fSxcblx0XHRzZXRDYXB0aW9uID0gZnVuY3Rpb24oY2FwdGlvbnRleHQsIGltYWdlV2lkdGgpe1xuXHRcdFx0aWYoY2FwdGlvbnRleHQgIT09ICcnICYmIHR5cGVvZiBjYXB0aW9udGV4dCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvcHRpb25zLmNhcHRpb25zKXtcblx0XHRcdFx0Y2FwdGlvbi5odG1sKGNhcHRpb250ZXh0KS5jc3Moeyd3aWR0aCc6IGltYWdlV2lkdGggKyAncHgnfSkuaGlkZSgpLmFwcGVuZFRvKCQoJy5zbC1pbWFnZScpKS5kZWxheShvcHRpb25zLmNhcHRpb25EZWxheSkuZmFkZUluKCdmYXN0Jyk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRzbGlkZSA9IGZ1bmN0aW9uKHNwZWVkLCBwb3Mpe1xuXHRcdFx0dmFyIHN0eWxlcyA9IHt9O1xuXHRcdFx0XHRzdHlsZXNbdHJhbnNQcmVmaXggKyAndHJhbnNmb3JtJ10gPSAndHJhbnNsYXRlWCgnICsgcG9zICsgJyknO1xuXHRcdFx0XHRzdHlsZXNbdHJhbnNQcmVmaXggKyAndHJhbnNpdGlvbiddID0gdHJhbnNQcmVmaXggKyAndHJhbnNmb3JtICcgKyBzcGVlZCArICdzIGxpbmVhcic7XG5cdFx0XHRcdCQoJy5zbC1pbWFnZScpLmNzcyhzdHlsZXMpO1xuXHRcdH0sXG5cdFx0em9vbVBhbkVsZW1lbnQgPSBmdW5jdGlvbih0YXJnZXRPZmZzZXRYLCB0YXJnZXRPZmZzZXRZLCB0YXJnZXRTY2FsZSkge1xuXHRcdFx0dmFyIHN0eWxlcyA9IHt9O1xuXHRcdFx0c3R5bGVzW3RyYW5zUHJlZml4ICsgJ3RyYW5zZm9ybSddID0gJ3RyYW5zbGF0ZSgnICsgdGFyZ2V0T2Zmc2V0WCArICcsJyArIHRhcmdldE9mZnNldFkrICcpIHNjYWxlKCcrdGFyZ2V0U2NhbGUrJyknO1xuXHRcdFx0Y3VySW1nLmNzcyhzdHlsZXMpO1xuXHRcdH0sXG5cdFx0bWluTWF4ID0gZnVuY3Rpb24odmFsdWUsIG1pbiwgbWF4KSB7XG5cdFx0XHRyZXR1cm4gKHZhbHVlIDwgbWluKSA/IG1pbiA6ICh2YWx1ZSA+IG1heCkgPyBtYXggOiB2YWx1ZTtcblx0XHR9LFxuXHRcdHNldFpvb21EYXRhID0gZnVuY3Rpb24oaW5pdGlhbFNjYWxlLHRhcmdldE9mZnNldFgsdGFyZ2V0T2Zmc2V0WSkge1xuXHRcdFx0Y3VySW1nLmRhdGEoJ3NjYWxlJyxpbml0aWFsU2NhbGUpO1xuXHRcdFx0Y3VySW1nLmRhdGEoJ3RyYW5zbGF0ZS14Jyx0YXJnZXRPZmZzZXRYKTtcblx0XHRcdGN1ckltZy5kYXRhKCd0cmFuc2xhdGUteScsdGFyZ2V0T2Zmc2V0WSk7XG5cdFx0fSxcblx0XHRhZGRFdmVudHMgPSBmdW5jdGlvbigpe1xuXHRcdFx0Ly8gcmVzaXplL3Jlc3BvbnNpdmVcblx0XHRcdCQoIHdpbmRvdyApLm9uKCAncmVzaXplLicrcHJlZml4LCBhZGp1c3RJbWFnZSApO1xuXG5cdFx0XHQvLyBjbG9zZSBsaWdodGJveCBvbiBjbG9zZSBidG5cblx0XHRcdCQoIGRvY3VtZW50ICkub24oJ2NsaWNrLicrcHJlZml4KyAnIHRvdWNoc3RhcnQuJytwcmVmaXgsICcuc2wtY2xvc2UnLCBmdW5jdGlvbihlKXtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRpZihvcGVuZWQpeyBjbG9zZSgpO31cblx0XHRcdH0pO1xuXG5cdFx0XHRpZihvcHRpb25zLmhpc3Rvcnkpe1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQod2luZG93KS5vbignaGFzaGNoYW5nZS4nK3ByZWZpeCxmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0aWYob3BlbmVkKXtcblx0XHRcdFx0XHRcdFx0aWYoZ2V0SGFzaCgpID09PSBpbml0aWFsSGFzaCkge1xuXHRcdFx0XHRcdFx0XHRcdGNsb3NlKCk7XG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0sIDQwKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gbmF2LWJ1dHRvbnNcblx0XHRcdG5hdi5vbignY2xpY2suJytwcmVmaXgsICdidXR0b24nLCB0aHJvdHRsZShmdW5jdGlvbihlKXtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRzd2lwZURpZmYgPSAwO1xuXHRcdFx0XHRsb2FkSW1hZ2UoICQodGhpcykuaGFzQ2xhc3MoJ3NsLW5leHQnKSA/IDEgOiAtMSApO1xuXHRcdFx0fSwgb3B0aW9ucy50aHJvdHRsZUludGVydmFsKSk7XG5cblx0XHRcdC8vIHRvdWNoIGhlbHBlcnNcblx0XHRcdHZhciBzd2lwZVN0YXJ0XHQgPSAwLFxuXHRcdFx0XHRzd2lwZUVuZFx0ID0gMCxcblx0XHRcdFx0c3dpcGVZU3RhcnQgPSAwLFxuXHRcdFx0XHRzd2lwZVlFbmQgPSAwLFxuXHRcdFx0XHR6b29tZWQgPSBmYWxzZSxcblx0XHRcdFx0bW91c2Vkb3duID0gZmFsc2UsXG5cdFx0XHRcdGltYWdlTGVmdCA9IDAsXG5cdFx0XHRcdGNvbnRhaW5lckhlaWdodCxcblx0XHRcdFx0Y29udGFpbmVyV2lkdGgsXG5cdFx0XHRcdGNvbnRhaW5lck9mZnNldFgsXG5cdFx0XHRcdGNvbnRhaW5lck9mZnNldFksXG5cdFx0XHRcdGltZ0hlaWdodCxcblx0XHRcdFx0aW1nV2lkdGgsXG5cdFx0XHRcdGNhcHR1cmUgPSBmYWxzZSxcblx0XHRcdFx0aW5pdGlhbE9mZnNldFgsXG5cdFx0XHRcdGluaXRpYWxPZmZzZXRZLFxuXHRcdFx0XHRpbml0aWFsUG9pbnRlck9mZnNldFgsXG5cdFx0XHRcdGluaXRpYWxQb2ludGVyT2Zmc2V0WSxcblx0XHRcdFx0aW5pdGlhbFBvaW50ZXJPZmZzZXRYMixcblx0XHRcdFx0aW5pdGlhbFBvaW50ZXJPZmZzZXRZMixcblx0XHRcdFx0aW5pdGlhbFNjYWxlID0gbWluTWF4KDEsIDEsIG9wdGlvbnMubWF4Wm9vbSksXG5cdFx0XHRcdGluaXRpYWxQaW5jaERpc3RhbmNlLFxuXHRcdFx0XHRwb2ludGVyT2Zmc2V0WCxcblx0XHRcdFx0cG9pbnRlck9mZnNldFksXG5cdFx0XHRcdHBvaW50ZXJPZmZzZXRYMixcblx0XHRcdFx0cG9pbnRlck9mZnNldFkyLFxuXHRcdFx0XHR0YXJnZXRPZmZzZXRYLFxuXHRcdFx0XHR0YXJnZXRPZmZzZXRZLFxuXHRcdFx0XHR0YXJnZXRTY2FsZSxcblx0XHRcdFx0cGluY2hPZmZzZXRYLFxuXHRcdFx0XHRwaW5jaE9mZnNldFksXG5cdFx0XHRcdGxpbWl0T2Zmc2V0WCxcblx0XHRcdFx0bGltaXRPZmZzZXRZLFxuXHRcdFx0XHRzY2FsZURpZmZlcmVuY2UsXG5cdFx0XHRcdHRhcmdldFBpbmNoRGlzdGFuY2UsXG5cdFx0XHRcdHRvdWNoQ291bnQsXG5cdFx0XHRcdGRvdWJsZVRhcHBlZCA9IGZhbHNlLFxuXHRcdFx0XHR0b3VjaG1vdmVDb3VudCA9IDA7XG5cblx0XHRcdGltYWdlXG5cdFx0XHQub24oICd0b3VjaHN0YXJ0LicrcHJlZml4KycgbW91c2Vkb3duLicrcHJlZml4LCBmdW5jdGlvbihlKVxuXHRcdFx0e1xuXHRcdFx0XHRpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0EnICYmIGUudHlwZSA9PSAndG91Y2hzdGFydCcpIHtcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlID0gZS5vcmlnaW5hbEV2ZW50O1xuXHRcdFx0XHRpZihlLnR5cGUgPT0gJ21vdXNlZG93bicpIHtcblx0XHRcdFx0XHRpbml0aWFsUG9pbnRlck9mZnNldFggPSBlLmNsaWVudFg7XG5cdFx0XHRcdFx0aW5pdGlhbFBvaW50ZXJPZmZzZXRZID0gZS5jbGllbnRZO1xuXHRcdFx0XHRcdGNvbnRhaW5lckhlaWdodCA9IGltYWdlLmhlaWdodCgpO1xuXHRcdFx0XHRcdGNvbnRhaW5lcldpZHRoID0gaW1hZ2Uud2lkdGgoKTtcblx0XHRcdFx0XHRpbWdIZWlnaHQgPSBjdXJJbWcuaGVpZ2h0KCk7XG5cdFx0XHRcdFx0aW1nV2lkdGggPSBjdXJJbWcud2lkdGgoKTtcblx0XHRcdFx0XHRjb250YWluZXJPZmZzZXRYID0gaW1hZ2UucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdGNvbnRhaW5lck9mZnNldFkgPSBpbWFnZS5wb3NpdGlvbigpLnRvcDtcblxuXHRcdFx0XHRcdGluaXRpYWxPZmZzZXRYID0gcGFyc2VGbG9hdChjdXJJbWcuZGF0YSgndHJhbnNsYXRlLXgnKSk7XG5cdFx0XHRcdFx0aW5pdGlhbE9mZnNldFkgPSBwYXJzZUZsb2F0KGN1ckltZy5kYXRhKCd0cmFuc2xhdGUteScpKTtcblxuXHRcdFx0XHRcdGNhcHR1cmUgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRvdWNoQ291bnQgPSBlLnRvdWNoZXMubGVuZ3RoO1xuXHRcdFx0XHRcdGluaXRpYWxQb2ludGVyT2Zmc2V0WCA9IGUudG91Y2hlc1swXS5jbGllbnRYO1xuXHRcdFx0XHRcdGluaXRpYWxQb2ludGVyT2Zmc2V0WSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuXHRcdFx0XHRcdGNvbnRhaW5lckhlaWdodCA9IGltYWdlLmhlaWdodCgpO1xuXHRcdFx0XHRcdGNvbnRhaW5lcldpZHRoID0gaW1hZ2Uud2lkdGgoKTtcblx0XHRcdFx0XHRpbWdIZWlnaHQgPSBjdXJJbWcuaGVpZ2h0KCk7XG5cdFx0XHRcdFx0aW1nV2lkdGggPSBjdXJJbWcud2lkdGgoKTtcblx0XHRcdFx0XHRjb250YWluZXJPZmZzZXRYID0gaW1hZ2UucG9zaXRpb24oKS5sZWZ0O1xuXHRcdFx0XHRcdGNvbnRhaW5lck9mZnNldFkgPSBpbWFnZS5wb3NpdGlvbigpLnRvcDtcblxuXHRcdFx0XHRcdGlmICh0b3VjaENvdW50ID09PSAxKSAvKiBTaW5nbGUgdG91Y2ggKi8ge1xuXHRcdFx0XHRcdFx0aWYoIWRvdWJsZVRhcHBlZCkge1xuXHRcdFx0XHRcdFx0XHRkb3VibGVUYXBwZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdFx0ZG91YmxlVGFwcGVkID0gZmFsc2U7XG5cdFx0XHRcdFx0XHRcdH0sIDMwMCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjdXJJbWcuYWRkQ2xhc3MoJ3NsLXRyYW5zaXRpb24nKTtcblx0XHRcdFx0XHRcdFx0aWYoIXpvb21lZCkge1xuXHRcdFx0XHRcdFx0XHRcdGluaXRpYWxTY2FsZSA9IG9wdGlvbnMuZG91YmxlVGFwWm9vbTtcblx0XHRcdFx0XHRcdFx0XHRzZXRab29tRGF0YSgwLDAsIGluaXRpYWxTY2FsZSk7XG5cdFx0XHRcdFx0XHRcdFx0em9vbVBhbkVsZW1lbnQoMCArIFwicHhcIiwgMCArIFwicHhcIiwgaW5pdGlhbFNjYWxlKTtcblx0XHRcdFx0XHRcdFx0XHQkKCcuc2wtY2FwdGlvbicpLmZhZGVPdXQoMjAwKTtcblx0XHRcdFx0XHRcdFx0XHR6b29tZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGluaXRpYWxTY2FsZSA9IDE7XG5cdFx0XHRcdFx0XHRcdFx0c2V0Wm9vbURhdGEoMCwwLGluaXRpYWxTY2FsZSk7XG5cdFx0XHRcdFx0XHRcdFx0em9vbVBhbkVsZW1lbnQoMCArIFwicHhcIiwgMCArIFwicHhcIiwgaW5pdGlhbFNjYWxlKTtcblx0XHRcdFx0XHRcdFx0XHR6b29tZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdFx0XHRjdXJJbWcucmVtb3ZlQ2xhc3MoJ3NsLXRyYW5zaXRpb24nKTtcblx0XHRcdFx0XHRcdFx0fSwgMjAwKTtcblx0XHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpbml0aWFsT2Zmc2V0WCA9IHBhcnNlRmxvYXQoY3VySW1nLmRhdGEoJ3RyYW5zbGF0ZS14JykpO1xuXHRcdFx0XHRcdFx0aW5pdGlhbE9mZnNldFkgPSBwYXJzZUZsb2F0KGN1ckltZy5kYXRhKCd0cmFuc2xhdGUteScpKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAodG91Y2hDb3VudCA9PT0gMikgLyogUGluY2ggKi8ge1xuXHRcdFx0XHRcdFx0aW5pdGlhbFBvaW50ZXJPZmZzZXRYMiA9IGUudG91Y2hlc1sxXS5jbGllbnRYO1xuXHRcdFx0XHRcdFx0aW5pdGlhbFBvaW50ZXJPZmZzZXRZMiA9IGUudG91Y2hlc1sxXS5jbGllbnRZO1xuXHRcdFx0XHRcdFx0aW5pdGlhbE9mZnNldFggPSBwYXJzZUZsb2F0KGN1ckltZy5kYXRhKCd0cmFuc2xhdGUteCcpKTtcblx0XHRcdFx0XHRcdGluaXRpYWxPZmZzZXRZID0gcGFyc2VGbG9hdChjdXJJbWcuZGF0YSgndHJhbnNsYXRlLXknKSk7XG5cdFx0XHRcdFx0XHRwaW5jaE9mZnNldFggPSAoaW5pdGlhbFBvaW50ZXJPZmZzZXRYICsgaW5pdGlhbFBvaW50ZXJPZmZzZXRYMikgLyAyO1xuXHRcdFx0XHRcdFx0cGluY2hPZmZzZXRZID0gKGluaXRpYWxQb2ludGVyT2Zmc2V0WSArIGluaXRpYWxQb2ludGVyT2Zmc2V0WTIpIC8gMjtcblx0XHRcdFx0XHRcdGluaXRpYWxQaW5jaERpc3RhbmNlID0gTWF0aC5zcXJ0KCgoaW5pdGlhbFBvaW50ZXJPZmZzZXRYIC0gaW5pdGlhbFBvaW50ZXJPZmZzZXRYMikgKiAoaW5pdGlhbFBvaW50ZXJPZmZzZXRYIC0gaW5pdGlhbFBvaW50ZXJPZmZzZXRYMikpICsgKChpbml0aWFsUG9pbnRlck9mZnNldFkgLSBpbml0aWFsUG9pbnRlck9mZnNldFkyKSAqIChpbml0aWFsUG9pbnRlck9mZnNldFkgLSBpbml0aWFsUG9pbnRlck9mZnNldFkyKSkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRjYXB0dXJlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmKG1vdXNlZG93bikgcmV0dXJuIHRydWU7XG5cdFx0XHRcdGlmKCBjYW5UcmFuc2lzaW9ucyApIGltYWdlTGVmdCA9IHBhcnNlSW50KCBpbWFnZS5jc3MoICdsZWZ0JyApICk7XG5cdFx0XHRcdG1vdXNlZG93biA9IHRydWU7XG5cdFx0XHRcdHN3aXBlRGlmZiA9IDA7XG5cdFx0XHRcdHN3aXBlWURpZmYgPSAwO1xuXHRcdFx0XHRzd2lwZVN0YXJ0ID0gZS5wYWdlWCB8fCBlLnRvdWNoZXNbIDAgXS5wYWdlWDtcblx0XHRcdFx0c3dpcGVZU3RhcnQgPSBlLnBhZ2VZIHx8IGUudG91Y2hlc1sgMCBdLnBhZ2VZO1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9KVxuXHRcdFx0Lm9uKCAndG91Y2htb3ZlLicrcHJlZml4KycgbW91c2Vtb3ZlLicrcHJlZml4KycgTVNQb2ludGVyTW92ZScsIGZ1bmN0aW9uKGUpXG5cdFx0XHR7XG5cdFx0XHRcdGlmKCFtb3VzZWRvd24pIHJldHVybiB0cnVlO1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG5cdFx0XHRcdC8qIEluaXRpYWxpemUgaGVscGVycyAqL1xuXHRcdFx0XHRpZihlLnR5cGUgPT0gJ3RvdWNobW92ZScpIHtcblx0XHRcdFx0XHRpZihjYXB0dXJlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdHBvaW50ZXJPZmZzZXRYID0gZS50b3VjaGVzWzBdLmNsaWVudFg7XG5cdFx0XHRcdFx0cG9pbnRlck9mZnNldFkgPSBlLnRvdWNoZXNbMF0uY2xpZW50WTtcblx0XHRcdFx0XHR0b3VjaENvdW50ID0gZS50b3VjaGVzLmxlbmd0aDtcblx0XHRcdFx0XHR0b3VjaG1vdmVDb3VudCsrO1xuXG5cdFx0XHRcdFx0aWYgKHRvdWNoQ291bnQgPiAxKSAvKiBQaW5jaCAqLyB7XG5cdFx0XHRcdFx0XHRwb2ludGVyT2Zmc2V0WDIgPSBlLnRvdWNoZXNbMV0uY2xpZW50WDtcblx0XHRcdFx0XHRcdHBvaW50ZXJPZmZzZXRZMiA9IGUudG91Y2hlc1sxXS5jbGllbnRZO1xuXHRcdFx0XHRcdFx0dGFyZ2V0UGluY2hEaXN0YW5jZSA9IE1hdGguc3FydCgoKHBvaW50ZXJPZmZzZXRYIC0gcG9pbnRlck9mZnNldFgyKSAqIChwb2ludGVyT2Zmc2V0WCAtIHBvaW50ZXJPZmZzZXRYMikpICsgKChwb2ludGVyT2Zmc2V0WSAtIHBvaW50ZXJPZmZzZXRZMikgKiAocG9pbnRlck9mZnNldFkgLSBwb2ludGVyT2Zmc2V0WTIpKSk7XG5cdFx0XHRcdFx0XHRpZiAoaW5pdGlhbFBpbmNoRGlzdGFuY2UgPT09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0aW5pdGlhbFBpbmNoRGlzdGFuY2UgPSB0YXJnZXRQaW5jaERpc3RhbmNlO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoTWF0aC5hYnMoaW5pdGlhbFBpbmNoRGlzdGFuY2UgLSB0YXJnZXRQaW5jaERpc3RhbmNlKSA+PSAxKSB7XG5cdFx0XHRcdFx0XHRcdC8qIEluaXRpYWxpemUgaGVscGVycyAqL1xuXHRcdFx0XHRcdFx0XHR0YXJnZXRTY2FsZSA9IG1pbk1heCh0YXJnZXRQaW5jaERpc3RhbmNlIC8gaW5pdGlhbFBpbmNoRGlzdGFuY2UgKiBpbml0aWFsU2NhbGUsIDEsIG9wdGlvbnMubWF4Wm9vbSk7XG5cdFx0XHRcdFx0XHRcdGxpbWl0T2Zmc2V0WCA9ICgoaW1nV2lkdGggKiB0YXJnZXRTY2FsZSkgLSBjb250YWluZXJXaWR0aCkgLyAyO1xuXHRcdFx0XHRcdFx0XHRsaW1pdE9mZnNldFkgPSAoKGltZ0hlaWdodCAqIHRhcmdldFNjYWxlKSAtIGNvbnRhaW5lckhlaWdodCkgLyAyO1xuXHRcdFx0XHRcdFx0XHRzY2FsZURpZmZlcmVuY2UgPSB0YXJnZXRTY2FsZSAtIGluaXRpYWxTY2FsZTtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0T2Zmc2V0WCA9IChpbWdXaWR0aCAqIHRhcmdldFNjYWxlKSA8PSBjb250YWluZXJXaWR0aCA/IDA6IG1pbk1heChpbml0aWFsT2Zmc2V0WCAtICgoKCgoKHBpbmNoT2Zmc2V0WCAtIGNvbnRhaW5lck9mZnNldFgpIC0gKGNvbnRhaW5lcldpZHRoIC8gMikpIC0gaW5pdGlhbE9mZnNldFgpIC8gKHRhcmdldFNjYWxlIC0gc2NhbGVEaWZmZXJlbmNlKSkpICogc2NhbGVEaWZmZXJlbmNlKSwgbGltaXRPZmZzZXRYICogKC0xKSwgbGltaXRPZmZzZXRYKTtcblx0XHRcdFx0XHRcdFx0dGFyZ2V0T2Zmc2V0WSA9IChpbWdIZWlnaHQgKiB0YXJnZXRTY2FsZSkgPD0gY29udGFpbmVySGVpZ2h0ID8gMCA6IG1pbk1heChpbml0aWFsT2Zmc2V0WSAtICgoKCgoKHBpbmNoT2Zmc2V0WSAtIGNvbnRhaW5lck9mZnNldFkpIC0gKGNvbnRhaW5lckhlaWdodCAvIDIpKSAtIGluaXRpYWxPZmZzZXRZKSAvICh0YXJnZXRTY2FsZSAtIHNjYWxlRGlmZmVyZW5jZSkpKSAqIHNjYWxlRGlmZmVyZW5jZSksIGxpbWl0T2Zmc2V0WSAqICgtMSksIGxpbWl0T2Zmc2V0WSk7XG5cblx0XHRcdFx0XHRcdFx0em9vbVBhbkVsZW1lbnQodGFyZ2V0T2Zmc2V0WCArIFwicHhcIiwgdGFyZ2V0T2Zmc2V0WSArIFwicHhcIiwgdGFyZ2V0U2NhbGUpO1xuXG5cdFx0XHRcdFx0XHRcdGlmICh0YXJnZXRTY2FsZSA+IDEpIHtcblx0XHRcdFx0XHRcdFx0XHR6b29tZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0XHRcdCQoJy5zbC1jYXB0aW9uJykuZmFkZU91dCgyMDApO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0aW5pdGlhbFBpbmNoRGlzdGFuY2UgPSB0YXJnZXRQaW5jaERpc3RhbmNlO1xuXHRcdFx0XHRcdFx0XHRpbml0aWFsU2NhbGUgPSB0YXJnZXRTY2FsZTtcblx0XHRcdFx0XHRcdFx0aW5pdGlhbE9mZnNldFggPSB0YXJnZXRPZmZzZXRYO1xuXHRcdFx0XHRcdFx0XHRpbml0aWFsT2Zmc2V0WSA9IHRhcmdldE9mZnNldFk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHRhcmdldFNjYWxlID0gaW5pdGlhbFNjYWxlO1xuXHRcdFx0XHRcdFx0bGltaXRPZmZzZXRYID0gKChpbWdXaWR0aCAqIHRhcmdldFNjYWxlKSAtIGNvbnRhaW5lcldpZHRoKSAvIDI7XG5cdFx0XHRcdFx0XHRsaW1pdE9mZnNldFkgPSAoKGltZ0hlaWdodCAqIHRhcmdldFNjYWxlKSAtIGNvbnRhaW5lckhlaWdodCkgLyAyO1xuXHRcdFx0XHRcdFx0dGFyZ2V0T2Zmc2V0WCA9IChpbWdXaWR0aCAqIHRhcmdldFNjYWxlKSA8PSBjb250YWluZXJXaWR0aCA/IDAgOiBtaW5NYXgocG9pbnRlck9mZnNldFggLSAoaW5pdGlhbFBvaW50ZXJPZmZzZXRYIC0gaW5pdGlhbE9mZnNldFgpLCBsaW1pdE9mZnNldFggKiAoLTEpLCBsaW1pdE9mZnNldFgpO1xuXHRcdFx0XHRcdFx0dGFyZ2V0T2Zmc2V0WSA9IChpbWdIZWlnaHQgKiB0YXJnZXRTY2FsZSkgPD0gY29udGFpbmVySGVpZ2h0ID8gMCA6IG1pbk1heChwb2ludGVyT2Zmc2V0WSAtIChpbml0aWFsUG9pbnRlck9mZnNldFkgLSBpbml0aWFsT2Zmc2V0WSksIGxpbWl0T2Zmc2V0WSAqICgtMSksIGxpbWl0T2Zmc2V0WSk7XG5cblx0XHRcdFx0XHRcdGlmIChNYXRoLmFicyh0YXJnZXRPZmZzZXRYKSA9PT0gTWF0aC5hYnMobGltaXRPZmZzZXRYKSkge1xuXHRcdFx0XHRcdFx0XHRpbml0aWFsT2Zmc2V0WCA9IHRhcmdldE9mZnNldFg7XG5cdFx0XHRcdFx0XHRcdGluaXRpYWxQb2ludGVyT2Zmc2V0WCA9IHBvaW50ZXJPZmZzZXRYO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRpZiAoTWF0aC5hYnModGFyZ2V0T2Zmc2V0WSkgPT09IE1hdGguYWJzKGxpbWl0T2Zmc2V0WSkpIHtcblx0XHRcdFx0XHRcdFx0aW5pdGlhbE9mZnNldFkgPSB0YXJnZXRPZmZzZXRZO1xuXHRcdFx0XHRcdFx0XHRpbml0aWFsUG9pbnRlck9mZnNldFkgPSBwb2ludGVyT2Zmc2V0WTtcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0c2V0Wm9vbURhdGEoaW5pdGlhbFNjYWxlLHRhcmdldE9mZnNldFgsdGFyZ2V0T2Zmc2V0WSk7XG5cdFx0XHRcdFx0XHR6b29tUGFuRWxlbWVudCh0YXJnZXRPZmZzZXRYICsgXCJweFwiLCB0YXJnZXRPZmZzZXRZICsgXCJweFwiLCB0YXJnZXRTY2FsZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdC8qIE1vdXNlIE1vdmUgaW1wbGVtZW50YXRpb24gKi9cblx0XHRcdFx0aWYoZS50eXBlID09ICdtb3VzZW1vdmUnICYmIG1vdXNlZG93bil7XG5cdFx0XHRcdFx0aWYoZS50eXBlID09ICd0b3VjaG1vdmUnKSByZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHRpZihjYXB0dXJlID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdHBvaW50ZXJPZmZzZXRYID0gZS5jbGllbnRYO1xuXHRcdFx0XHRcdHBvaW50ZXJPZmZzZXRZID0gZS5jbGllbnRZO1xuXHRcdFx0XHRcdHRhcmdldFNjYWxlID0gaW5pdGlhbFNjYWxlO1xuXHRcdFx0XHRcdGxpbWl0T2Zmc2V0WCA9ICgoaW1nV2lkdGggKiB0YXJnZXRTY2FsZSkgLSBjb250YWluZXJXaWR0aCkgLyAyO1xuXHRcdFx0XHRcdGxpbWl0T2Zmc2V0WSA9ICgoaW1nSGVpZ2h0ICogdGFyZ2V0U2NhbGUpIC0gY29udGFpbmVySGVpZ2h0KSAvIDI7XG5cdFx0XHRcdFx0dGFyZ2V0T2Zmc2V0WCA9IChpbWdXaWR0aCAqIHRhcmdldFNjYWxlKSA8PSBjb250YWluZXJXaWR0aCA/IDAgOiBtaW5NYXgocG9pbnRlck9mZnNldFggLSAoaW5pdGlhbFBvaW50ZXJPZmZzZXRYIC0gaW5pdGlhbE9mZnNldFgpLCBsaW1pdE9mZnNldFggKiAoLTEpLCBsaW1pdE9mZnNldFgpO1xuXHRcdFx0XHRcdHRhcmdldE9mZnNldFkgPSAoaW1nSGVpZ2h0ICogdGFyZ2V0U2NhbGUpIDw9IGNvbnRhaW5lckhlaWdodCA/IDAgOiBtaW5NYXgocG9pbnRlck9mZnNldFkgLSAoaW5pdGlhbFBvaW50ZXJPZmZzZXRZIC0gaW5pdGlhbE9mZnNldFkpLCBsaW1pdE9mZnNldFkgKiAoLTEpLCBsaW1pdE9mZnNldFkpO1xuXG5cdFx0XHRcdFx0aWYgKE1hdGguYWJzKHRhcmdldE9mZnNldFgpID09PSBNYXRoLmFicyhsaW1pdE9mZnNldFgpKSB7XG5cdFx0XHRcdFx0XHRpbml0aWFsT2Zmc2V0WCA9IHRhcmdldE9mZnNldFg7XG5cdFx0XHRcdFx0XHRpbml0aWFsUG9pbnRlck9mZnNldFggPSBwb2ludGVyT2Zmc2V0WDtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoTWF0aC5hYnModGFyZ2V0T2Zmc2V0WSkgPT09IE1hdGguYWJzKGxpbWl0T2Zmc2V0WSkpIHtcblx0XHRcdFx0XHRcdGluaXRpYWxPZmZzZXRZID0gdGFyZ2V0T2Zmc2V0WTtcblx0XHRcdFx0XHRcdGluaXRpYWxQb2ludGVyT2Zmc2V0WSA9IHBvaW50ZXJPZmZzZXRZO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHNldFpvb21EYXRhKGluaXRpYWxTY2FsZSx0YXJnZXRPZmZzZXRYLHRhcmdldE9mZnNldFkpO1xuXHRcdFx0XHRcdHpvb21QYW5FbGVtZW50KHRhcmdldE9mZnNldFggKyBcInB4XCIsIHRhcmdldE9mZnNldFkgKyBcInB4XCIsIHRhcmdldFNjYWxlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZighem9vbWVkKSB7XG5cdFx0XHRcdFx0c3dpcGVFbmQgPSBlLnBhZ2VYIHx8IGUudG91Y2hlc1sgMCBdLnBhZ2VYO1xuXHRcdFx0XHRcdHN3aXBlWUVuZCA9IGUucGFnZVkgfHwgZS50b3VjaGVzWyAwIF0ucGFnZVk7XG5cdFx0XHRcdFx0c3dpcGVEaWZmID0gc3dpcGVTdGFydCAtIHN3aXBlRW5kO1xuXHRcdFx0XHRcdHN3aXBlWURpZmYgPSBzd2lwZVlTdGFydCAtIHN3aXBlWUVuZDtcblx0XHRcdFx0XHRpZiggb3B0aW9ucy5hbmltYXRpb25TbGlkZSApIHtcblx0XHRcdFx0XHRcdGlmKCBjYW5UcmFuc2lzaW9ucyApIHNsaWRlKCAwLCAtc3dpcGVEaWZmICsgJ3B4JyApO1xuXHRcdFx0XHRcdFx0ZWxzZSBpbWFnZS5jc3MoICdsZWZ0JywgaW1hZ2VMZWZ0IC0gc3dpcGVEaWZmICsgJ3B4JyApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSlcblx0XHRcdC5vbiggJ3RvdWNoZW5kLicrcHJlZml4KycgbW91c2V1cC4nK3ByZWZpeCsnIHRvdWNoY2FuY2VsLicrcHJlZml4KycgbW91c2VsZWF2ZS4nK3ByZWZpeCsnIHBvaW50ZXJ1cCBwb2ludGVyY2FuY2VsIE1TUG9pbnRlclVwIE1TUG9pbnRlckNhbmNlbCcsZnVuY3Rpb24oZSlcblx0XHRcdHtcblx0XHRcdFx0ZSA9IGUub3JpZ2luYWxFdmVudDtcblx0XHRcdFx0aWYodG91Y2hEZXZpY2UgJiYgZS50eXBlID09J3RvdWNoZW5kJykge1xuXHRcdFx0XHRcdHRvdWNoQ291bnQgPSBlLnRvdWNoZXMubGVuZ3RoO1xuXHRcdFx0XHRcdGlmICh0b3VjaENvdW50ID09PSAwKSAvKiBObyB0b3VjaCAqLyB7XG5cdFx0XHRcdFx0XHQvKiBTZXQgYXR0cmlidXRlcyAqL1xuXHRcdFx0XHRcdFx0c2V0Wm9vbURhdGEoaW5pdGlhbFNjYWxlLHRhcmdldE9mZnNldFgsdGFyZ2V0T2Zmc2V0WSk7XG5cdFx0XHRcdFx0XHRpZihpbml0aWFsU2NhbGUgPT0gMSkge1xuXHRcdFx0XHRcdFx0XHR6b29tZWQgPSBmYWxzZTtcblx0XHRcdFx0XHRcdFx0JCgnLnNsLWNhcHRpb24nKS5mYWRlSW4oMjAwKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGluaXRpYWxQaW5jaERpc3RhbmNlID0gbnVsbDtcblx0XHRcdFx0XHRcdGNhcHR1cmUgPSBmYWxzZTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKHRvdWNoQ291bnQgPT09IDEpIC8qIFNpbmdsZSB0b3VjaCAqLyB7XG5cdFx0XHRcdFx0XHRpbml0aWFsUG9pbnRlck9mZnNldFggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcblx0XHRcdFx0XHRcdGluaXRpYWxQb2ludGVyT2Zmc2V0WSA9IGUudG91Y2hlc1swXS5jbGllbnRZO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAodG91Y2hDb3VudCA+IDEpIC8qIFBpbmNoICovIHtcblx0XHRcdFx0XHRcdGluaXRpYWxQaW5jaERpc3RhbmNlID0gbnVsbDtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZihtb3VzZWRvd24pe1xuXHRcdFx0XHRcdG1vdXNlZG93biA9IGZhbHNlO1xuXHRcdFx0XHRcdHZhciBwb3NzaWJsZURpciA9IHRydWU7XG5cdFx0XHRcdFx0aWYoIW9wdGlvbnMubG9vcCkge1xuXHRcdFx0XHRcdFx0aWYoaW5kZXggPT09IDAgJiYgc3dpcGVEaWZmIDwgMCl7IHBvc3NpYmxlRGlyID0gZmFsc2U7IH1cblx0XHRcdFx0XHRcdGlmKGluZGV4ID49IG9iamVjdHMubGVuZ3RoIC0xICYmIHN3aXBlRGlmZiA+IDApIHsgcG9zc2libGVEaXIgPSBmYWxzZTsgfVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiggTWF0aC5hYnMoIHN3aXBlRGlmZiApID4gb3B0aW9ucy5zd2lwZVRvbGVyYW5jZSAmJiBwb3NzaWJsZURpciApIHtcblx0XHRcdFx0XHRcdGxvYWRJbWFnZSggc3dpcGVEaWZmID4gMCA/IDEgOiAtMSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIGlmKCBvcHRpb25zLmFuaW1hdGlvblNsaWRlIClcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRpZiggY2FuVHJhbnNpc2lvbnMgKSBzbGlkZSggb3B0aW9ucy5hbmltYXRpb25TcGVlZCAvIDEwMDAsIDAgKyAncHgnICk7XG5cdFx0XHRcdFx0XHRlbHNlIGltYWdlLmFuaW1hdGUoeyAnbGVmdCc6IGltYWdlTGVmdCArICdweCcgfSwgb3B0aW9ucy5hbmltYXRpb25TcGVlZCAvIDIgKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiggb3B0aW9ucy5zd2lwZUNsb3NlICYmIE1hdGguYWJzKHN3aXBlWURpZmYpID4gNTAgJiYgTWF0aC5hYnMoIHN3aXBlRGlmZiApIDwgb3B0aW9ucy5zd2lwZVRvbGVyYW5jZSkge1xuXHRcdFx0XHRcdFx0Y2xvc2UoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pXG5cdFx0XHQvKiogRGV0ZWN0IERvdWJsZSBjbGljayBvbiBpbWFnZSovXG5cdFx0XHQub24oICdkYmxjbGljaycsIGZ1bmN0aW9uKGUpXG5cdFx0XHR7XG5cdFx0XHRcdGluaXRpYWxQb2ludGVyT2Zmc2V0WCA9IGUuY2xpZW50WDtcblx0XHRcdFx0aW5pdGlhbFBvaW50ZXJPZmZzZXRZID0gZS5jbGllbnRZO1xuXHRcdFx0XHRjb250YWluZXJIZWlnaHQgPSBpbWFnZS5oZWlnaHQoKTtcblx0XHRcdFx0Y29udGFpbmVyV2lkdGggPSBpbWFnZS53aWR0aCgpO1xuXHRcdFx0XHRpbWdIZWlnaHQgPSBjdXJJbWcuaGVpZ2h0KCk7XG5cdFx0XHRcdGltZ1dpZHRoID0gY3VySW1nLndpZHRoKCk7XG5cdFx0XHRcdGNvbnRhaW5lck9mZnNldFggPSBpbWFnZS5wb3NpdGlvbigpLmxlZnQ7XG5cdFx0XHRcdGNvbnRhaW5lck9mZnNldFkgPSBpbWFnZS5wb3NpdGlvbigpLnRvcDtcblxuXHRcdFx0XHRjdXJJbWcuYWRkQ2xhc3MoJ3NsLXRyYW5zaXRpb24nKTtcblx0XHRcdFx0aWYoIXpvb21lZCkge1xuXHRcdFx0XHRcdGluaXRpYWxTY2FsZSA9IG9wdGlvbnMuZG91YmxlVGFwWm9vbTtcblx0XHRcdFx0XHRzZXRab29tRGF0YSgwLDAsIGluaXRpYWxTY2FsZSk7XG5cdFx0XHRcdFx0em9vbVBhbkVsZW1lbnQoMCArIFwicHhcIiwgMCArIFwicHhcIiwgaW5pdGlhbFNjYWxlKTtcblx0XHRcdFx0XHQkKCcuc2wtY2FwdGlvbicpLmZhZGVPdXQoMjAwKTtcblx0XHRcdFx0XHR6b29tZWQgPSB0cnVlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGluaXRpYWxTY2FsZSA9IDE7XG5cdFx0XHRcdFx0c2V0Wm9vbURhdGEoMCwwLGluaXRpYWxTY2FsZSk7XG5cdFx0XHRcdFx0em9vbVBhbkVsZW1lbnQoMCArIFwicHhcIiwgMCArIFwicHhcIiwgaW5pdGlhbFNjYWxlKTtcblx0XHRcdFx0XHR6b29tZWQgPSBmYWxzZTtcblx0XHRcdFx0XHQkKCcuc2wtY2FwdGlvbicpLmZhZGVJbigyMDApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdGN1ckltZy5yZW1vdmVDbGFzcygnc2wtdHJhbnNpdGlvbicpO1xuXHRcdFx0XHR9LCAyMDApO1xuXHRcdFx0XHRjYXB0dXJlID0gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0fSk7XG5cdFx0fSxcblx0XHRyZW1vdmVFdmVudHMgPSBmdW5jdGlvbigpe1xuXHRcdFx0bmF2Lm9mZignY2xpY2snLCAnYnV0dG9uJyk7XG5cdFx0XHQkKCBkb2N1bWVudCApLm9mZignY2xpY2suJytwcmVmaXgsICcuc2wtY2xvc2UnKTtcblx0XHRcdCQoIHdpbmRvdyApLm9mZiggJ3Jlc2l6ZS4nK3ByZWZpeCk7XG5cdFx0XHQkKCB3aW5kb3cgKS5vZmYoICdoYXNoY2hhbmdlLicrcHJlZml4KTtcblx0XHR9LFxuXHRcdHByZWxvYWQgPSBmdW5jdGlvbigpe1xuXHRcdFx0dmFyIG5leHQgPSAoaW5kZXgrMSA8IDApID8gb2JqZWN0cy5sZW5ndGggLTE6IChpbmRleCsxID49IG9iamVjdHMubGVuZ3RoIC0xKSA/IDAgOiBpbmRleCsxLFxuXHRcdFx0XHRwcmV2ID0gKGluZGV4LTEgPCAwKSA/IG9iamVjdHMubGVuZ3RoIC0xOiAoaW5kZXgtMSA+PSBvYmplY3RzLmxlbmd0aCAtMSkgPyAwIDogaW5kZXgtMTtcblx0XHRcdCQoICc8aW1nIC8+JyApLmF0dHIoICdzcmMnLCBvYmplY3RzLmVxKG5leHQpLmF0dHIoIG9wdGlvbnMuc291cmNlQXR0ciApICkub24oJ2xvYWQnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRpZihsb2FkZWQuaW5kZXhPZigkKHRoaXMpLmF0dHIoJ3NyYycpKSA9PSAtMSl7XG5cdFx0XHRcdFx0bG9hZGVkLnB1c2goJCh0aGlzKS5hdHRyKCdzcmMnKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0b2JqZWN0cy5lcShpbmRleCkudHJpZ2dlcigkLkV2ZW50KCduZXh0SW1hZ2VMb2FkZWQuc2ltcGxlbGlnaHRib3gnKSk7XG5cdFx0XHR9KTtcblx0XHRcdCQoICc8aW1nIC8+JyApLmF0dHIoICdzcmMnLCBvYmplY3RzLmVxKHByZXYpLmF0dHIoIG9wdGlvbnMuc291cmNlQXR0ciApICkub24oJ2xvYWQnLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRpZihsb2FkZWQuaW5kZXhPZigkKHRoaXMpLmF0dHIoJ3NyYycpKSA9PSAtMSl7XG5cdFx0XHRcdFx0bG9hZGVkLnB1c2goJCh0aGlzKS5hdHRyKCdzcmMnKSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0b2JqZWN0cy5lcShpbmRleCkudHJpZ2dlcigkLkV2ZW50KCdwcmV2SW1hZ2VMb2FkZWQuc2ltcGxlbGlnaHRib3gnKSk7XG5cdFx0XHR9KTtcblxuXHRcdH0sXG5cdFx0bG9hZEltYWdlID0gZnVuY3Rpb24oZGlyKXtcblx0XHRcdG9iamVjdHMuZXEoaW5kZXgpXG5cdFx0XHQudHJpZ2dlcigkLkV2ZW50KCdjaGFuZ2Uuc2ltcGxlbGlnaHRib3gnKSlcblx0XHRcdC50cmlnZ2VyKCQuRXZlbnQoIChkaXI9PT0xPyduZXh0JzoncHJldicpKycuc2ltcGxlbGlnaHRib3gnKSk7XG5cblx0XHR2YXIgbmV3SW5kZXggPSBpbmRleCArIGRpcjtcblx0XHRcdGlmKGFuaW1hdGluZyB8fCAobmV3SW5kZXggPCAwIHx8IG5ld0luZGV4ID49IG9iamVjdHMubGVuZ3RoKSAmJiBvcHRpb25zLmxvb3AgPT09IGZhbHNlICkgcmV0dXJuO1xuXHRcdFx0aW5kZXggPSAobmV3SW5kZXggPCAwKSA/IG9iamVjdHMubGVuZ3RoIC0xOiAobmV3SW5kZXggPiBvYmplY3RzLmxlbmd0aCAtMSkgPyAwIDogbmV3SW5kZXg7XG5cdFx0XHQkKCcuc2wtd3JhcHBlciAuc2wtY291bnRlciAuc2wtY3VycmVudCcpLnRleHQoaW5kZXggKzEpO1xuXHRcdFx0XHR2YXIgY3NzID0geyAnb3BhY2l0eSc6IDAgfTtcblx0XHRcdGlmKCBvcHRpb25zLmFuaW1hdGlvblNsaWRlICkge1xuXHRcdFx0XHRpZiggY2FuVHJhbnNpc2lvbnMgKSBzbGlkZShvcHRpb25zLmFuaW1hdGlvblNwZWVkIC8gMTAwMCwgKCAtMTAwICogZGlyICkgLSBzd2lwZURpZmYgKyAncHgnKTtcblx0XHRcdFx0ZWxzZSBjc3MubGVmdCA9IHBhcnNlSW50KCAkKCcuc2wtaW1hZ2UnKS5jc3MoICdsZWZ0JyApICkgKyAtMTAwICogZGlyICsgJ3B4Jztcblx0XHRcdH1cblxuXHRcdFx0JCgnLnNsLWltYWdlJykuYW5pbWF0ZSggY3NzLCBvcHRpb25zLmFuaW1hdGlvblNwZWVkLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRzZXRUaW1lb3V0KCBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdC8vIGZhZGVvdXQgb2xkIGltYWdlXG5cdFx0XHRcdFx0dmFyIGVsZW0gPSBvYmplY3RzLmVxKGluZGV4KTtcblx0XHRcdFx0XHRjdXJJbWdcblx0XHRcdFx0XHQuYXR0cignc3JjJywgZWxlbS5hdHRyKG9wdGlvbnMuc291cmNlQXR0cikpO1xuXG5cdFx0XHRcdFx0aWYobG9hZGVkLmluZGV4T2YoZWxlbS5hdHRyKG9wdGlvbnMuc291cmNlQXR0cikpID09IC0xKXtcblx0XHRcdFx0XHRcdHNwaW5uZXIuc2hvdygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkKCcuc2wtY2FwdGlvbicpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdGFkanVzdEltYWdlKGRpcik7XG5cdFx0XHRcdFx0aWYob3B0aW9ucy5wcmVsb2FkaW5nKSBwcmVsb2FkKCk7XG5cdFx0XHRcdH0sIDEwMCk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdGNsb3NlID0gZnVuY3Rpb24oKXtcblx0XHRcdGlmKGFuaW1hdGluZykgcmV0dXJuO1xuXHRcdFx0dmFyIGVsZW0gPSBvYmplY3RzLmVxKGluZGV4KSxcblx0XHRcdHRyaWdnZXJlZCA9IGZhbHNlO1xuXG5cdFx0XHRlbGVtLnRyaWdnZXIoJC5FdmVudCgnY2xvc2Uuc2ltcGxlbGlnaHRib3gnKSk7XG5cdFx0XHRpZihvcHRpb25zLmhpc3Rvcnkpe1xuXHRcdFx0XHRyZXNldEhhc2goKTtcblx0XHRcdH1cblx0XHRcdCQoJy5zbC1pbWFnZSBpbWcsIC5zbC1vdmVybGF5LCAuc2wtY2xvc2UsIC5zbC1uYXZpZ2F0aW9uLCAuc2wtaW1hZ2UgLnNsLWNhcHRpb24sIC5zbC1jb3VudGVyJykuZmFkZU91dCgnZmFzdCcsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdGlmKG9wdGlvbnMuZGlzYWJsZVNjcm9sbCkgaGFuZGxlU2Nyb2xsYmFyKCdzaG93Jyk7XG5cdFx0XHRcdGlmKG9wdGlvbnMuaHRtbENsYXNzICYmIG9wdGlvbnMuaHRtbENsYXNzICE9ICcnKSAkKCdodG1sJykucmVtb3ZlQ2xhc3Mob3B0aW9ucy5odG1sQ2xhc3MpO1xuXHRcdFx0XHQkKCcuc2wtd3JhcHBlciwgLnNsLW92ZXJsYXknKS5yZW1vdmUoKTtcblx0XHRcdFx0cmVtb3ZlRXZlbnRzKCk7XG5cdFx0XHRcdGlmKCF0cmlnZ2VyZWQpIGVsZW0udHJpZ2dlcigkLkV2ZW50KCdjbG9zZWQuc2ltcGxlbGlnaHRib3gnKSk7XG5cdFx0XHRcdHRyaWdnZXJlZCA9IHRydWU7XG5cdFx0XHR9KTtcblx0XHRcdGN1ckltZyA9ICQoKTtcblx0XHRcdG9wZW5lZCA9IGZhbHNlO1xuXHRcdFx0YW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0fSxcblx0XHRoYW5kbGVTY3JvbGxiYXIgPSBmdW5jdGlvbih0eXBlKXtcblx0XHRcdHZhciBzY3JvbGxiYXJXaWR0aCA9IDA7XG5cdFx0XHRpZih0eXBlID09ICdoaWRlJyl7XG5cdFx0XHRcdHZhciBmdWxsV2luZG93V2lkdGggPSB3aW5kb3cuaW5uZXJXaWR0aDtcblx0XHRcdFx0aWYgKCFmdWxsV2luZG93V2lkdGgpIHtcblx0XHRcdFx0XHR2YXIgZG9jdW1lbnRFbGVtZW50UmVjdCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0XHRmdWxsV2luZG93V2lkdGggPSBkb2N1bWVudEVsZW1lbnRSZWN0LnJpZ2h0IC0gTWF0aC5hYnMoZG9jdW1lbnRFbGVtZW50UmVjdC5sZWZ0KTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZihkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoIDwgZnVsbFdpbmRvd1dpZHRoKXtcblx0XHRcdFx0XHR2YXIgc2Nyb2xsRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JyksXG5cdFx0XHRcdFx0cGFkZGluZyA9IHBhcnNlSW50KCQoJ2JvZHknKS5jc3MoJ3BhZGRpbmctcmlnaHQnKSwxMCk7XG5cdFx0XHRcdFx0c2Nyb2xsRGl2LmNsYXNzTmFtZSA9ICdzbC1zY3JvbGxiYXItbWVhc3VyZSc7XG5cdFx0XHRcdFx0JCgnYm9keScpLmFwcGVuZChzY3JvbGxEaXYpO1xuXHRcdFx0XHRcdHNjcm9sbGJhcldpZHRoID0gc2Nyb2xsRGl2Lm9mZnNldFdpZHRoIC0gc2Nyb2xsRGl2LmNsaWVudFdpZHRoO1xuXHRcdFx0XHRcdCQoZG9jdW1lbnQuYm9keSlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KTtcblx0XHRcdFx0XHQkKCdib2R5JykuZGF0YSgncGFkZGluZycscGFkZGluZyk7XG5cdFx0XHRcdFx0aWYoc2Nyb2xsYmFyV2lkdGggPiAwKXtcblx0XHRcdFx0XHRcdCQoJ2JvZHknKS5hZGRDbGFzcygnaGlkZGVuLXNjcm9sbCcpLmNzcyh7J3BhZGRpbmctcmlnaHQnOnBhZGRpbmcrc2Nyb2xsYmFyV2lkdGh9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdCQoJ2JvZHknKS5yZW1vdmVDbGFzcygnaGlkZGVuLXNjcm9sbCcpLmNzcyh7J3BhZGRpbmctcmlnaHQnOiQoJ2JvZHknKS5kYXRhKCdwYWRkaW5nJyl9KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBzY3JvbGxiYXJXaWR0aDtcblx0XHR9O1xuXG5cdC8vIGV2ZW50c1xuXHRzZXR1cCgpO1xuXG5cdC8vIG9wZW4gbGlnaHRib3hcblx0b2JqZWN0cy5vbiggJ2NsaWNrLicrcHJlZml4LCBmdW5jdGlvbiggZSApe1xuXHRcdGlmKGlzVmFsaWRMaW5rKHRoaXMpKXtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmKGFuaW1hdGluZykgcmV0dXJuIGZhbHNlO1xuXHRcdFx0dmFyIGVsZW0gPSAkKHRoaXMpO1xuXHRcdFx0c3RhcnRJbmRleCA9IG9iamVjdHMuaW5kZXgoZWxlbSk7XG5cdFx0XHRvcGVuSW1hZ2UoZWxlbSk7XG5cdFx0fVxuXHR9KTtcblxuXHQvLyBjbG9zZSBvbiBjbGljayBvbiBkb2Ncblx0JCggZG9jdW1lbnQgKS5vbignY2xpY2suJytwcmVmaXgrICcgdG91Y2hzdGFydC4nK3ByZWZpeCwgZnVuY3Rpb24oZSl7XG5cdFx0aWYob3BlbmVkKXtcblx0XHRcdGlmKChvcHRpb25zLmRvY0Nsb3NlICYmICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5zbC1pbWFnZScpLmxlbmd0aCA9PT0gMCAmJiAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuc2wtbmF2aWdhdGlvbicpLmxlbmd0aCA9PT0gMCkpe1xuXHRcdFx0XHRjbG9zZSgpO1xuXHRcdFx0fVxuXHRcdH1cblx0fSk7XG5cblx0Ly8gZGlzYWJsZSByaWdodGNsaWNrXG5cdGlmKG9wdGlvbnMuZGlzYWJsZVJpZ2h0Q2xpY2spe1xuXHRcdCQoIGRvY3VtZW50ICkub24oJ2NvbnRleHRtZW51JywgJy5zbC1pbWFnZSBpbWcnLCBmdW5jdGlvbihlKXtcblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9KTtcblx0fVxuXG5cblx0Ly8ga2V5Ym9hcmQtY29udHJvbFxuXHRpZiggb3B0aW9ucy5lbmFibGVLZXlib2FyZCApe1xuXHRcdCQoIGRvY3VtZW50ICkub24oICdrZXl1cC4nK3ByZWZpeCwgdGhyb3R0bGUoZnVuY3Rpb24oIGUgKXtcblx0XHRcdHN3aXBlRGlmZiA9IDA7XG5cdFx0XHQvLyBrZXlib2FyZCBjb250cm9sIG9ubHkgaWYgbGlnaHRib3ggaXMgb3BlblxuXHRcdFx0dmFyIGtleSA9IGUua2V5Q29kZTtcblx0XHRcdGlmKGFuaW1hdGluZyAmJiBrZXkgPT0gMjcpIHtcblx0XHRcdFx0Y3VySW1nLmF0dHIoJ3NyYycsICcnKTtcblx0XHRcdFx0YW5pbWF0aW5nID0gZmFsc2U7XG5cdFx0XHRcdGNsb3NlKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmKG9wZW5lZCl7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0aWYoIGtleSA9PSAyNyApIHtcblx0XHRcdFx0XHRjbG9zZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmKCBrZXkgPT0gMzcgfHwgZS5rZXlDb2RlID09IDM5ICkge1xuXHRcdFx0XHRcdGxvYWRJbWFnZSggZS5rZXlDb2RlID09IDM5ID8gMSA6IC0xICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LCBvcHRpb25zLnRocm90dGxlSW50ZXJ2YWwpKTtcblx0fVxuXG5cdC8vIFB1YmxpYyBtZXRob2RzXG5cdHRoaXMub3BlbiA9IGZ1bmN0aW9uKGVsZW0pe1xuXHRcdGVsZW0gPSBlbGVtIHx8ICQodGhpc1swXSk7XG5cdFx0c3RhcnRJbmRleCA9IG9iamVjdHMuaW5kZXgoZWxlbSk7XG5cdFx0b3BlbkltYWdlKGVsZW0pO1xuXHR9O1xuXG5cdHRoaXMubmV4dCA9IGZ1bmN0aW9uKCl7XG5cdFx0bG9hZEltYWdlKCAxICk7XG5cdH07XG5cblx0dGhpcy5wcmV2ID0gZnVuY3Rpb24oKXtcblx0XHRsb2FkSW1hZ2UoIC0xICk7XG5cdH07XG5cblx0dGhpcy5jbG9zZSA9IGZ1bmN0aW9uKCl7XG5cdFx0Y2xvc2UoKTtcblx0fTtcblxuXHR0aGlzLmRlc3Ryb3kgPSBmdW5jdGlvbigpe1xuXHRcdCQoIGRvY3VtZW50ICkub2ZmKCdjbGljay4nK3ByZWZpeCkub2ZmKCdrZXl1cC4nK3ByZWZpeCk7XG5cdFx0Y2xvc2UoKTtcblx0XHQkKCcuc2wtb3ZlcmxheSwgLnNsLXdyYXBwZXInKS5yZW1vdmUoKTtcblx0XHR0aGlzLm9mZignY2xpY2snKTtcblx0fTtcblxuXHR0aGlzLnJlZnJlc2ggPSBmdW5jdGlvbigpe1xuXHRcdHRoaXMuZGVzdHJveSgpO1xuXHRcdCQodGhpcykuc2ltcGxlTGlnaHRib3gob3B0aW9ucyk7XG5cdH07XG5cblx0cmV0dXJuIHRoaXM7XG5cbn07XG59KSggalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50ICk7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/simplelightbox/dist/simple-lightbox.js\n");

/***/ }),

/***/ "./node_modules/simplelightbox/dist/simplelightbox.scss":
/*!**************************************************************!*\
  !*** ./node_modules/simplelightbox/dist/simplelightbox.scss ***!
  \**************************************************************/
/*! no static exports found */
/***/ (function(module, exports) {

eval("// removed by extract-text-webpack-plugin//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc2ltcGxlbGlnaHRib3gvZGlzdC9zaW1wbGVsaWdodGJveC5zY3NzPzM3M2MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvc2ltcGxlbGlnaHRib3gvZGlzdC9zaW1wbGVsaWdodGJveC5zY3NzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/simplelightbox/dist/simplelightbox.scss\n");

/***/ }),

/***/ 1:
/*!****************************!*\
  !*** multi simplelightbox ***!
  \****************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(/*! simplelightbox */"./node_modules/simplelightbox/dist/simple-lightbox.js");


/***/ })

}]);